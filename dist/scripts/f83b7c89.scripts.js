function createHttpBackendMock(e,t,n){function r(e,t,n){return angular.isFunction(e)?e:function(){return angular.isNumber(e)?[e,t,n]:[200,e,t]}}function i(e,r,i,o,l){function p(e){return angular.isString(e)||angular.isFunction(e)||e instanceof RegExp?e:angular.toJson(e)}var f=new MockXhr,d=c[0],h=!1;if(d&&d.match(e,r)){if(!d.matchData(i))throw Error("Expected "+d+" with different data\n"+"EXPECTED: "+p(d.data)+"\nGOT:      "+i);if(!d.matchHeaders(l))throw Error("Expected "+d+" with different headers\n"+"EXPECTED: "+p(d.headers)+"\nGOT:      "+p(l));if(c.shift(),d.response)return s.push(function(){var t=d.response(e,r,i,l);f.$$respHeaders=t[2],o(t[0],t[1],f.getAllResponseHeaders())}),void 0;h=!0}for(var v,g=-1;v=a[++g];)if(v.match(e,r,i,l||{})){if(v.response)(n?n.defer:u)(function(){var t=v.response(e,r,i,l);f.$$respHeaders=t[2],o(t[0],t[1],f.getAllResponseHeaders())});else{if(!v.passThrough)throw Error("No response defined !");t(e,r,i,o,l)}return}throw h?Error("No response defined !"):Error("Unexpected request: "+e+" "+r+"\n"+(d?"Expected "+d:"No more request expected"))}function o(e){angular.forEach(["GET","DELETE","JSONP"],function(t){i[e+t]=function(n,r){return i[e](t,n,void 0,r)}}),angular.forEach(["PUT","POST","PATCH"],function(t){i[e+t]=function(n,r,o){return i[e](t,n,r,o)}})}var a=[],c=[],s=[],u=angular.bind(s,s.push);return i.when=function(e,t,i,o){var c=new MockHttpExpectation(e,t,i,o),s={respond:function(e,t,n){c.response=r(e,t,n)}};return n&&(s.passThrough=function(){c.passThrough=!0}),a.push(c),s},o("when"),i.expect=function(e,t,n,i){var o=new MockHttpExpectation(e,t,n,i);return c.push(o),{respond:function(e,t,n){o.response=r(e,t,n)}}},o("expect"),i.flush=function(t){if(e.$digest(),!s.length)throw Error("No pending request to flush !");if(angular.isDefined(t))for(;t--;){if(!s.length)throw Error("No more pending request to flush !");s.shift()()}else for(;s.length;)s.shift()();i.verifyNoOutstandingExpectation()},i.verifyNoOutstandingExpectation=function(){if(e.$digest(),c.length)throw Error("Unsatisfied requests: "+c.join(", "))},i.verifyNoOutstandingRequest=function(){if(s.length)throw Error("Unflushed requests: "+s.length)},i.resetExpectations=function(){c.length=0,s.length=0},i}function MockHttpExpectation(e,t,n,r){this.data=n,this.headers=r,this.match=function(t,n,r,i){return e!=t?!1:this.matchUrl(n)?angular.isDefined(r)&&!this.matchData(r)?!1:angular.isDefined(i)&&!this.matchHeaders(i)?!1:!0:!1},this.matchUrl=function(e){return t?angular.isFunction(t.test)?t.test(e):t==e:!0},this.matchHeaders=function(e){return angular.isUndefined(r)?!0:angular.isFunction(r)?r(e):angular.equals(r,e)},this.matchData=function(e){return angular.isUndefined(n)?!0:n&&angular.isFunction(n.test)?n.test(e):n&&!angular.isString(n)?angular.toJson(n)==e:n==e},this.toString=function(){return e+" "+t}}function MockXhr(){MockXhr.$$lastInstance=this,this.open=function(e,t,n){this.$$method=e,this.$$url=t,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(e){this.$$data=e},this.setRequestHeader=function(e,t){this.$$reqHeaders[e]=t},this.getResponseHeader=function(e){var t=this.$$respHeaders[e];return t?t:(e=angular.lowercase(e),(t=this.$$respHeaders[e])?t:(t=void 0,angular.forEach(this.$$respHeaders,function(n,r){t||angular.lowercase(r)!=e||(t=n)}),t))},this.getAllResponseHeaders=function(){var e=[];return angular.forEach(this.$$respHeaders,function(t,n){e.push(n+": "+t)}),e.join("\n")},this.abort=angular.noop}function DashboardCtrl(e,t,n,r,i,o,a){n.active="",t.alerts=[],t.connection="connecting...",t.oauth={client:"017b9f702a904869a80a0f9fd8ed88838f6e52bd39b147b19e69fed705e1b912",redirect:"http://manage.lelylan.com",scope:"resources+privates"},t.$on("lelylan:logout",function(){n.active="",i.path("/home")}),t.$on("lelylan:device:delete",function(e,r){n.active="",i.path("/"),t.openAlert(r.name+" successfully deleted","success")}),t.closeAlert=function(e){t.alerts.splice(e,1)},t.openAlert=function(e,n,r){r=r?r:5e3,t.alerts.unshift({type:n,msg:e}),o(function(){t.closeAlert(t.alerts.length-1)},r)};var c=e.get().access_token,s=!!c;if(s){var u=io.connect(a.socket);u.on("connect",function(){u.emit("subscribe",c)}),u.on("update",function(e){t.openAlert(e.data.name+" updated","success"),c!=e.token&&t.fire(e.data),n.$broadcast("dashboard:devices:list:update",e.data),t.$apply()}),t.fire=function(e){n.$broadcast("lelylan:device:request:end",e)},u.on("connected",function(){t.connection="on",t.$apply()}),u.on("disconnected",function(){t.connection="off",t.$apply()})}}function CreateCtrl(e,t,n,r,i,o){i.active="create",r.select=!1,r.authorized=!!n.get().access_token,r.device=e.get(),r.create=function(){r.disabled=!0,r.device.$save(function(){i.active="all",o.url("/all"),r.reset(),r.disabled=!1})},r.$watch("device.type.id",function(e){e||(r.select=!0)}),r.reset=function(){r.device=null,e.reset()},r.toggle=function(){r.device.type&&(r.select=!1)}}function DevicesCtrl(e,t,n,r,i,o){n.authorized=!!e.get().access_token,r.active="all",n.authorized?(n.devices=null,n.loading=!0,n.devices=t.query({per:250},function(){n.loading=!1,n.devices.length>0&&(n.selected=n.devices[0])})):o.path("/home"),n.$on("lelylan:device:open",function(e,t){n.selected=_.findWhere(n.devices,{id:t.id})}),n.$on("dashboard:devices:list:update",function(e,t){var r=_.findWhere(n.devices,{id:t.id});angular.extend(r,t)}),n.$on("lelylan:device:request:start",function(e,t){var r=_.findWhere(n.devices,{id:t.id});r.pending=t.pending,r.updated_at=t.updated_at}),n.$on("lelylan:device:request:end",function(e,t){var r=_.findWhere(n.devices,{id:t.id});r.pending=t.pending,r.updated_at=t.updated_at})}function CategoryCtrl(e,t,n,r,i){n.authorized=!!t.get().access_token;var o=i.active=r.category;n.authorized&&(n.devices=null,n.loading=!0,n.devices=e.query({categories:o,per:250},function(){n.loading=!1,n.devices.length>0&&(n.selected=n.devices[0])}))}function TypesCtrl(e,t,n,r,i,o,a){r.getPopular=function(){i.typesMenu="populars",i.populars?r.types=i.populars:i.populars=r.types=popularTypes},r.getYours=function(){i.typesMenu="yours",i.yours?r.types=i.yours:i.yours=r.types=n.query({per:250})},r.getAll=function(){i.typesMenu="all"},r.select=function(t){e.set({type:{id:t.id,name:t.name}}),a.path("/new")},r.load=function(e){r.type=n.get({id:e},function(){r.select(r.type),a.path("/new")})},r.back=function(){a.path("/new")},r.authorized=!!t.get().access_token,i.typesMenu||(i.typesMenu="populars"),r.authorized&&(i.active="new","populars"==i.typesMenu&&r.getPopular(),"yours"==i.typesMenu&&r.getYours())}function TypeCtrl(e,t,n,r){t.select=function(){e.set({type:{id:t.typeId,name:r.search().name}}),r.path("/new")},t.back=function(){r.path("/types")},t.typeId=n.typeId}(function(e,t,n){"use strict";function r(){var t=e.angular;return e.angular=nr,t}function i(e){return e&&"number"==typeof e.length?"function"!=typeof e.hasOwnProperty&&"function"!=typeof e.constructor?!0:e instanceof ot||Jn&&e instanceof Jn||"[object Object]"!==tr.call(e)||"function"==typeof e.callee:!1}function o(e,t,n){var r;if(e)if(C(e))for(r in e)"prototype"!=r&&"length"!=r&&"name"!=r&&e.hasOwnProperty(r)&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==o)e.forEach(t,n);else if(i(e))for(r=0;e.length>r;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function c(e,t,n){for(var r=a(e),i=0;r.length>i;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function u(){for(var e,t=ir.length;t;){if(t--,e=ir[t].charCodeAt(0),57==e)return ir[t]="A",ir.join("");if(90!=e)return ir[t]=String.fromCharCode(e+1),ir.join("");ir[t]="0"}return ir.unshift("0"),ir.join("")}function l(e){return o(arguments,function(t){t!==e&&o(t,function(t,n){e[n]=t})}),e}function p(e){return parseInt(e,10)}function f(e,t){return l(new(l(function(){},{prototype:e})),t)}function d(){}function h(e){return e}function v(e){return function(){return e}}function g(e){return e===n}function m(e){return e!==n}function $(e){return null!=e&&"object"==typeof e}function y(e){return"string"==typeof e}function w(e){return"number"==typeof e}function b(e){return"[object Date]"==tr.apply(e)}function x(e){return"[object Array]"==tr.apply(e)}function C(e){return"function"==typeof e}function k(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function T(e){return e&&e.$evalAsync&&e.$watch}function E(e){return"[object File]"===tr.apply(e)}function S(e){return y(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function A(e){return e&&(e.nodeName||e.bind&&e.find)}function P(e,t,n){var r=[];return o(e,function(e,i,o){r.push(t.call(n,e,i,o))}),r}function M(e,t){return-1!=_(e,t)}function _(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;e.length>n;n++)if(t===e[n])return n;return-1}function D(e,t){var n=_(e,t);return n>=0&&e.splice(n,1),t}function O(e,t){if(k(e)||T(e))throw Error("Can't copy Window or Scope");if(t){if(e===t)throw Error("Can't copy equivalent objects or arrays");if(x(e)){t.length=0;for(var n=0;e.length>n;n++)t.push(O(e[n]))}else{o(t,function(e,n){delete t[n]});for(var r in e)t[r]=O(e[r])}}else t=e,e&&(x(e)?t=O(e,[]):b(e)?t=new Date(e.getTime()):$(e)&&(t=O(e,{})));return t}function q(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(t[n]=e[n]);return t}function R(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i,o,a=typeof e,c=typeof t;if(a==c&&"object"==a){if(!x(e)){if(b(e))return b(t)&&e.getTime()==t.getTime();if(T(e)||T(t)||k(e)||k(t))return!1;o={};for(i in e)if("$"!==i.charAt(0)&&!C(e[i])){if(!R(e[i],t[i]))return!1;o[i]=!0}for(i in t)if(!o[i]&&"$"!==i.charAt(0)&&t[i]!==n&&!C(t[i]))return!1;return!0}if((r=e.length)==t.length){for(i=0;r>i;i++)if(!R(e[i],t[i]))return!1;return!0}}return!1}function j(e,t,n){return e.concat(Qn.call(t,n))}function U(e,t){return Qn.call(e,t||0)}function F(e,t){var n=arguments.length>2?U(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Qn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function N(e,r){var i=r;return/^\$+/.test(e)?i=n:k(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":T(r)&&(i="$SCOPE"),i}function I(e,t){return JSON.stringify(e,N,t?"  ":null)}function H(e){return y(e)?JSON.parse(e):e}function V(e){if(e&&0!==e.length){var t=Bn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function L(e){e=Zn(e).clone();try{e.html("")}catch(t){}var n=3,r=Zn("<div>").append(e).html();try{return e[0].nodeType===n?Bn(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Bn(t)})}catch(t){return Bn(r)}}function B(e){var t,n,r={};return o((e||"").split("&"),function(e){e&&(t=e.split("="),n=decodeURIComponent(t[0]),r[n]=m(t[1])?decodeURIComponent(t[1]):!0)}),r}function z(e){var t=[];return o(e,function(e,n){t.push(G(n,!0)+(e===!0?"":"="+G(e,!0)))}),t.length?t.join("&"):""}function W(e){return G(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function Z(e,n){function r(e){e&&c.push(e)}var i,a,c=[e],s=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;o(s,function(n){s[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(o(e.querySelectorAll("."+n),r),o(e.querySelectorAll("."+n+"\\:"),r),o(e.querySelectorAll("["+n+"]"),r))}),o(c,function(e){if(!i){var t=" "+e.className+" ",n=u.exec(t);n?(i=e,a=(n[2]||"").replace(/\s+/g,",")):o(e.attributes,function(t){!i&&s[t.name]&&(i=e,a=t.value)})}}),i&&n(i,a?[a]:[])}function J(t,r){var i=function(){t=Zn(t),r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.unshift("ng");var e=Ct(r);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},a=/^NG_DEFER_BOOTSTRAP!/;return e&&!a.test(e.name)?i():(e.name=e.name.replace(a,""),rr.resumeBootstrap=function(e){o(e,function(e){r.push(e)}),i()},n)}function Y(e,t){return t=t||"_",e.replace(or,function(e,n){return(n?t:"")+e.toLowerCase()})}function K(){Jn=e.jQuery,Jn?(Zn=Jn,l(Jn.fn,{scope:hr.scope,controller:hr.controller,injector:hr.injector,inheritedData:hr.inheritedData}),it("remove",!0),it("empty"),it("html")):Zn=ot,rr.element=Zn}function X(e,t,n){if(!e)throw Error("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function Q(e,t,n){return n&&x(e)&&(e=e[e.length-1]),X(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function et(e){function t(e,t,n){return e[t]||(e[t]=n())}return t(t(e,"angular",Object),"module",function(){var e={};return function(n,r,i){return r&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),c}}if(!r)throw Error("No module: "+n);var t=[],o=[],a=e("$injector","invoke"),c={_invokeQueue:t,_runBlocks:o,requires:r,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animationProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:a,run:function(e){return o.push(e),this}};return i&&a(i),c})}})}function tt(t){l(t,{bootstrap:J,copy:O,extend:l,equals:R,element:Zn,forEach:o,injector:Ct,noop:d,bind:F,toJson:I,fromJson:H,identity:h,isUndefined:g,isDefined:m,isString:y,isFunction:C,isObject:$,isNumber:w,isElement:A,isArray:x,version:ar,isDate:b,lowercase:Bn,uppercase:zn,callbacks:{counter:0},noConflict:r}),Yn=et(e);try{Yn("ngLocale")}catch(n){Yn("ngLocale",[]).provider("$locale",$n)}Yn("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",Mt).directive({a:Ir,input:Yr,textarea:Yr,form:Br,script:Di,select:qi,style:ji,option:Ri,ngBind:si,ngBindHtmlUnsafe:li,ngBindTemplate:ui,ngClass:pi,ngClassEven:di,ngClassOdd:fi,ngCsp:gi,ngCloak:hi,ngController:vi,ngForm:zr,ngHide:Ti,ngInclude:yi,ngInit:wi,ngNonBindable:bi,ngPluralize:xi,ngRepeat:Ci,ngShow:ki,ngSubmit:$i,ngStyle:Ei,ngSwitch:Si,ngSwitchWhen:Ai,ngSwitchDefault:Pi,ngOptions:Oi,ngView:_i,ngTransclude:Mi,ngModel:ni,ngList:oi,ngChange:ri,required:ii,ngRequired:ii,ngValue:ci}).directive(Hr).directive(mi),e.provider({$anchorScroll:kt,$animation:Tt,$animator:xr,$browser:St,$cacheFactory:At,$controller:Dt,$document:Ot,$exceptionHandler:qt,$filter:wn,$interpolate:Rt,$http:vn,$httpBackend:gn,$location:Gt,$log:Zt,$parse:tn,$route:on,$routeParams:an,$rootScope:cn,$q:nn,$sniffer:sn,$templateCache:Pt,$timeout:yn,$window:un})}])}function nt(){return++ur}function rt(e){return e.replace(fr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(dr,"Moz$1")}function it(e,t){function n(){for(var e,n,i,o,a,c,s,u=[this],l=t;u.length;)for(e=u.shift(),n=0,i=e.length;i>n;n++)for(o=Zn(e[n]),l?o.triggerHandler("$destroy"):l=!l,a=0,c=(s=o.children()).length;c>a;a++)u.push(Jn(s[a]));return r.apply(this,arguments)}var r=Jn.fn[e];r=r.$original||r,n.$original=r,Jn.fn[e]=n}function ot(e){if(e instanceof ot)return e;if(!(this instanceof ot)){if(y(e)&&"<"!=e.charAt(0))throw Error("selectors not implemented");return new ot(e)}if(y(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),vt(this,n.childNodes),this.remove()}else vt(this,e)}function at(e){return e.cloneNode(!0)}function ct(e){ut(e);for(var t=0,n=e.childNodes||[];n.length>t;t++)ct(n[t])}function st(e,t,n){var r=lt(e,"events"),i=lt(e,"handle");i&&(g(t)?o(r,function(t,n){pr(e,n,t),delete r[n]}):g(n)?(pr(e,t,r[t]),delete r[t]):D(r[t],n))}function ut(e){var t=e[sr],r=cr[t];r&&(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),st(e)),delete cr[t],e[sr]=n)}function lt(e,t,r){var i=e[sr],o=cr[i||-1];return m(r)?(o||(e[sr]=i=nt(),o=cr[i]={}),o[t]=r,n):o&&o[t]}function pt(e,t,n){var r=lt(e,"data"),i=m(n),o=!i&&m(t),a=o&&!$(t);if(r||a||lt(e,"data",r={}),i)r[t]=n;else{if(!o)return r;if(a)return r&&r[t];l(r,t)}}function ft(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function dt(e,t){t&&o(t.split(" "),function(t){e.className=S((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+S(t)+" "," "))})}function ht(e,t){t&&o(t.split(" "),function(t){ft(e,t)||(e.className=S(e.className+" "+S(t)))})}function vt(e,t){if(t){t=t.nodeName||!m(t.length)||k(t)?[t]:t;for(var n=0;t.length>n;n++)e.push(t[n])}}function gt(e,t){return mt(e,"$"+(t||"ngController")+"Controller")}function mt(e,t,n){for(e=Zn(e),9==e[0].nodeType&&(e=e.find("html"));e.length;){if(n=e.data(t))return n;e=e.parent()}}function $t(e,t){var n=vr[t.toLowerCase()];return n&&gr[e.nodeName]&&n}function yt(e,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),g(r.defaultPrevented)){var a=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,a.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented},o(n[i||r.type],function(t){t.call(e,r)}),8>=Xn?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function wt(e){var t,r=typeof e;return"object"==r&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=u()):t=e,r+":"+t}function bt(e){o(e,this.put,this)}function xt(e){var t,n,r,i;return"function"==typeof e?(t=e.$inject)||(t=[],n=(""+e).replace(br,""),r=n.match($r),o(r[1].split(yr),function(e){e.replace(wr,function(e,n,r){t.push(r)})}),e.$inject=t):x(e)?(i=e.length-1,Q(e[i],"fn"),t=e.slice(0,i)):Q(e,"fn",!0),t}function Ct(e){function t(e){return function(t,r){return $(t)?(o(t,s(e)),n):e(t,r)}}function r(e,t){if((C(t)||x(t))&&(t=k.instantiate(t)),!t.$get)throw Error("Provider "+e+" must define $get factory method.");return b[e+g]=t}function i(e,t){return r(e,{$get:t})}function a(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return i(e,v(t))}function u(e,t){b[e]=t,T[e]=t}function l(e,t){var n=k.get(e+g),r=n.$get;n.$get=function(){var e=E.invoke(r,n);return E.invoke(t,null,{$delegate:e})}}function p(e){var t=[];return o(e,function(e){if(!w.get(e))if(w.put(e,!0),y(e)){var n=Yn(e);t=t.concat(p(n.requires)).concat(n._runBlocks);try{for(var r=n._invokeQueue,i=0,o=r.length;o>i;i++){var a=r[i],c=k.get(a[0]);c[a[1]].apply(c,a[2])}}catch(s){throw s.message&&(s.message+=" from "+e),s}}else if(C(e))try{t.push(k.invoke(e))}catch(s){throw s.message&&(s.message+=" from "+e),s}else if(x(e))try{t.push(k.invoke(e))}catch(s){throw s.message&&(s.message+=" from "+(e[e.length-1]+"")),s}else Q(e,"module")}),t}function f(e,t){function n(n){if("string"!=typeof n)throw Error("Service name expected");if(e.hasOwnProperty(n)){if(e[n]===h)throw Error("Circular dependency: "+m.join(" <- "));return e[n]}try{return m.unshift(n),e[n]=h,e[n]=t(n)}finally{m.shift()}}function r(e,t,r){var i,o,a,c=[],s=xt(e);for(o=0,i=s.length;i>o;o++)a=s[o],c.push(r&&r.hasOwnProperty(a)?r[a]:n(a));switch(e.$inject||(e=e[i]),t?-1:c.length){case 0:return e();case 1:return e(c[0]);case 2:return e(c[0],c[1]);case 3:return e(c[0],c[1],c[2]);case 4:return e(c[0],c[1],c[2],c[3]);case 5:return e(c[0],c[1],c[2],c[3],c[4]);case 6:return e(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6]);case 8:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);case 9:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8]);case 10:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]);default:return e.apply(t,c)}}function i(e,t){var n,i,o=function(){};return o.prototype=(x(e)?e[e.length-1]:e).prototype,n=new o,i=r(e,n,t),$(i)?i:n}return{invoke:r,instantiate:i,get:n,annotate:xt}}var h={},g="Provider",m=[],w=new bt,b={$provide:{provider:t(r),factory:t(i),service:t(a),value:t(c),constant:t(u),decorator:l}},k=b.$injector=f(b,function(){throw Error("Unknown provider: "+m.join(" <- "))}),T={},E=T.$injector=f(T,function(e){var t=k.get(e+g);return E.invoke(t.$get,t)});return o(p(e),function(e){E.invoke(e||d)}),E}function kt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return o(e,function(e){t||"a"!==Bn(e.nodeName)||(t=e)}),t}function a(){var e,r=n.hash();r?(e=c.getElementById(r))?e.scrollIntoView():(e=i(c.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(a)}),a}]}function Tt(e){var t="Animation";this.register=function(n,r){e.factory(rt(n)+t,r)},this.$get=["$injector",function(e){return function(n){if(n)try{return e.get(rt(n)+t)}catch(r){}}}]}function Et(e,t,r,i){function a(e){try{e.apply(null,U(arguments,1))}finally{if($--,0===$)for(;w.length;)try{w.pop()()}catch(t){r.error(t)}}}function c(e,t){(function n(){o(x,function(e){e()}),b=t(n,e)})()}function s(){C!=u.url()&&(C=u.url(),o(T,function(e){e(u.url())}))}var u=this,l=t[0],p=e.location,f=e.history,h=e.setTimeout,v=e.clearTimeout,m={};u.isMock=!1;var $=0,w=[];u.$$completeOutstandingRequest=a,u.$$incOutstandingRequestCount=function(){$++},u.notifyWhenNoOutstandingRequests=function(e){o(x,function(e){e()}),0===$?e():w.push(e)};var b,x=[];u.addPollFn=function(e){return g(b)&&c(100,h),x.push(e),e};var C=p.href,k=t.find("base");u.url=function(e,t){if(e){if(C==e)return;return C=e,i.history?t?f.replaceState(null,"",e):(f.pushState(null,"",e),k.attr("href",k.attr("href"))):t?p.replace(e):p.href=e,u}return p.href.replace(/%27/g,"'")};var T=[],E=!1;u.onUrlChange=function(t){return E||(i.history&&Zn(e).bind("popstate",s),i.hashchange?Zn(e).bind("hashchange",s):u.addPollFn(s),E=!0),T.push(t),t},u.baseHref=function(){var e=k.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var S={},A="",P=u.baseHref();u.cookies=function(e,t){var i,o,a,c,s;if(!e){if(l.cookie!==A)for(A=l.cookie,o=A.split("; "),S={},c=0;o.length>c;c++)a=o[c],s=a.indexOf("="),s>0&&(S[unescape(a.substring(0,s))]=unescape(a.substring(s+1)));return S}t===n?l.cookie=escape(e)+"=;path="+P+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(i=(l.cookie=escape(e)+"="+escape(t)+";path="+P).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},u.defer=function(e,t){var n;return $++,n=h(function(){delete m[n],a(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return m[e]?(delete m[e],v(e),a(d),!0):!1}}function St(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Et(e,r,t,n)}]}function At(){this.$get=function(){function e(e,r){function i(e){e!=f&&(d?d==e&&(d=e.n):d=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw Error("cacheId "+e+" taken");var a=0,c=l({},r,{id:e}),s={},u=r&&r.capacity||Number.MAX_VALUE,p={},f=null,d=null;return t[e]={put:function(e,t){var r=p[e]||(p[e]={key:e});return i(r),g(t)?n:(e in s||a++,s[e]=t,a>u&&this.remove(d.key),t)},get:function(e){var t=p[e];return t?(i(t),s[e]):void 0},remove:function(e){var t=p[e];t&&(t==f&&(f=t.p),t==d&&(d=t.n),o(t.n,t.p),delete p[e],delete s[e],a--)},removeAll:function(){s={},a=0,p={},f=d=null},destroy:function(){s=null,c=null,p=null,delete t[e]},info:function(){return l({},c,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Pt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Mt(e){var r={},i="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,c=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u="Template must have exactly one root element. was: ",p=/^\s*(https?|ftp|mailto|file):/;this.directive=function f(t,n){return y(t)?(X(n,"directive"),r.hasOwnProperty(t)||(r[t]=[],e.factory(t+i,["$injector","$exceptionHandler",function(e,n){var i=[];return o(r[t],function(r){try{var o=e.invoke(r);C(o)?o={compile:v(o)}:!o.compile&&o.link&&(o.compile=v(o.link)),o.priority=o.priority||0,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",i.push(o)}catch(a){n(a)}}),i}])),r[t].push(n)):o(t,s(f)),this},this.urlSanitizationWhitelist=function(e){return m(e)?(p=e,this):p},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(e,s,f,d,g,m,w,b,k){function T(e,t,n){e instanceof Zn||(e=Zn(e)),o(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=Zn(t).wrap("<span></span>").parent()[0])});var r=A(e,t,e,n);return function(t,n){X(t,"scope");for(var i=n?hr.clone.call(e):e,o=0,a=i.length;a>o;o++){var c=i[o];(1==c.nodeType||9==c.nodeType)&&i.eq(o).data("$scope",t)}return E(i,"ng-scope"),n&&n(i,t),r&&r(t,i,i),i}}function E(e,t){try{e.addClass(t)}catch(n){}}function A(e,t,r,i){function o(e,r,i,o){var a,c,s,u,l,f,d,h,v=[];for(f=0,d=r.length;d>f;f++)v.push(r[f]);for(f=0,h=0,d=p.length;d>f;h++)s=v[h],a=p[f++],c=p[f++],a?(a.scope?(u=e.$new($(a.scope)),Zn(s).data("$scope",u)):u=e,l=a.transclude,l||!o&&t?a(c,u,s,i,function(t){return function(n){var r=e.$new();return r.$$transcluded=!0,t(r,n).bind("$destroy",F(r,r.$destroy))}}(l||t)):a(c,u,s,n,o)):c&&c(e,s.childNodes,n,o)}for(var a,c,s,u,l,p=[],f=0;e.length>f;f++)u=new H,s=P(e[f],[],u,i),a=s.length?M(s,e[f],u,t,r):null,c=a&&a.terminal||!e[f].childNodes||!e[f].childNodes.length?null:A(e[f].childNodes,a?a.transclude:t),p.push(a),p.push(c),l=l||a||c;return l?o:null}function P(e,t,n,r){var i,o,s=e.nodeType,u=n.$attr;switch(s){case 1:_(t,_t(Kn(e).toLowerCase()),"E",r);for(var l,p,f,d,h,v=e.attributes,g=0,m=v&&v.length;m>g;g++)l=v[g],l.specified&&(p=l.name,d=_t(p),G.test(d)&&(p=d.substr(6).toLowerCase()),f=_t(p.toLowerCase()),u[f]=p,n[f]=h=S(Xn&&"href"==p?decodeURIComponent(e.getAttribute(p,2)):l.value),$t(e,f)&&(n[f]=!0),N(e,t,h,f),_(t,f,"A",r));if(o=e.className,y(o)&&""!==o)for(;i=c.exec(o);)f=_t(i[2]),_(t,f,"C",r)&&(n[f]=S(i[3])),o=o.substr(i.index+i[0].length);break;case 3:U(t,e.nodeValue);break;case 8:try{i=a.exec(e.nodeValue),i&&(f=_t(i[1]),_(t,f,"M",r)&&(n[f]=S(i[2])))}catch($){}}return t.sort(R),t}function M(e,r,i,a,c){function l(e,t){e&&(e.require=h.require,R.push(e)),t&&(t.require=h.require,U.push(t))}function p(e,t){var n,r="data",i=!1;if(y(e)){for(;"^"==(n=e.charAt(0))||"?"==n;)e=e.substr(1),"^"==n&&(r="inheritedData"),i=i||"?"==n;if(n=t[r]("$"+e+"Controller"),!n&&!i)throw Error("No controller: "+e);return n}return x(e)&&(n=[],o(e,function(e){n.push(p(e,t))})),n}function d(e,t,a,c,u){var l,d,h,v,g,$;if(l=r===a?i:q(i,new H(Zn(a),i.$attr)),d=l.$$element,N){var y=/^\s*([@=&])(\??)\s*(\w*)\s*$/,b=t.$parent||t;o(N.scope,function(e,n){var r,i,o,a=e.match(y)||[],c=a[3]||n,u="?"==a[2],p=a[1];switch(t.$$isolateBindings[n]=p+c,p){case"@":l.$observe(c,function(e){t[n]=e}),l.$$observers[c].$$scope=b,l[c]&&(t[n]=s(l[c])(b));break;case"=":if(u&&!l[c])return;i=m(l[c]),o=i.assign||function(){throw r=t[n]=i(b),Error(Cr+l[c]+" (directive: "+N.name+")")},r=t[n]=i(b),t.$watch(function(){var e=i(b);return e!==t[n]&&(e!==r?r=t[n]=e:o(b,e=r=t[n])),e});break;case"&":i=m(l[c]),t[n]=function(e){return i(b,e)};break;default:throw Error("Invalid isolate scope definition for directive "+N.name+": "+e)}})}for(k&&o(k,function(e){var n={$scope:t,$element:d,$attrs:l,$transclude:u};$=e.controller,"@"==$&&($=l[e.name]),d.data("$"+e.name+"Controller",w($,n))}),h=0,v=R.length;v>h;h++)try{g=R[h],g(t,d,l,g.require&&p(g.require,d))}catch(x){f(x,L(d))}for(e&&e(t,a.childNodes,n,u),h=0,v=U.length;v>h;h++)try{g=U[h],g(t,d,l,g.require&&p(g.require,d))}catch(x){f(x,L(d))}}for(var h,v,g,b,k,A,M,_=-Number.MAX_VALUE,R=[],U=[],F=null,N=null,V=null,B=i.$$element=Zn(r),z=a,G=0,Z=e.length;Z>G&&(h=e[G],g=n,!(_>h.priority));G++){if((M=h.scope)&&(j("isolated scope",N,h,B),$(M)&&(E(B,"ng-isolate-scope"),N=h),E(B,"ng-scope"),F=F||h),v=h.name,(M=h.controller)&&(k=k||{},j("'"+v+"' controller",k[v],h,B),k[v]=h),(M=h.transclude)&&(j("transclusion",b,h,B),b=h,_=h.priority,"element"==M?(g=Zn(r),B=i.$$element=Zn(t.createComment(" "+v+": "+i[v]+" ")),r=B[0],I(c,Zn(g[0]),r),z=T(g,a,_)):(g=Zn(at(r)).contents(),B.html(""),z=T(g,a))),h.template)if(j("template",V,h,B),V=h,M=C(h.template)?h.template(B,i):h.template,M=W(M),h.replace){if(g=Zn("<div>"+S(M)+"</div>").contents(),r=g[0],1!=g.length||1!==r.nodeType)throw Error(u+M);I(c,B,r);var J={$attr:{}};e=e.concat(P(r,e.splice(G+1,e.length-(G+1)),J)),D(i,J),Z=e.length}else B.html(M);if(h.templateUrl)j("template",V,h,B),V=h,d=O(e.splice(G,e.length-G),d,B,i,c,h.replace,z),Z=e.length;else if(h.compile)try{A=h.compile(B,i,z),C(A)?l(null,A):A&&l(A.pre,A.post)}catch(Y){f(Y,L(B))}h.terminal&&(d.terminal=!0,_=Math.max(_,h.priority))}return d.scope=F&&F.scope,d.transclude=b&&z,d}function _(t,o,a,c){var s=!1;if(r.hasOwnProperty(o))for(var u,l=e.get(o+i),p=0,d=l.length;d>p;p++)try{u=l[p],(c===n||c>u.priority)&&-1!=u.restrict.indexOf(a)&&(t.push(u),s=!0)}catch(h){f(h)}return s}function D(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(E(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?i.attr("style",i.attr("style")+";"+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function O(e,t,n,r,i,o,a){var c,s,p=[],f=n[0],h=e.shift(),v=l({},h,{controller:null,templateUrl:null,transclude:null,scope:null}),m=C(h.templateUrl)?h.templateUrl(n,r):h.templateUrl;return n.html(""),d.get(m,{cache:g}).success(function(l){var d,h,g;if(l=W(l),o){if(g=Zn("<div>"+S(l)+"</div>").contents(),d=g[0],1!=g.length||1!==d.nodeType)throw Error(u+l);h={$attr:{}},I(i,n,d),P(d,e,h),D(r,h)}else d=f,n.html(l);for(e.unshift(v),c=M(e,d,r,a),s=A(n[0].childNodes,a);p.length;){var m=p.shift(),$=p.shift(),y=p.shift(),w=p.shift(),b=d;$!==f&&(b=at(d),I(y,Zn($),b)),c(function(){t(s,m,b,i,w)},m,b,i,w)}p=null}).error(function(e,t,n,r){throw Error("Failed to load template: "+r.url)}),function(e,n,r,i,o){p?(p.push(n),p.push(r),p.push(i),p.push(o)):c(function(){t(s,n,r,i,o)},n,r,i,o)}}function R(e,t){return t.priority-e.priority}function j(e,t,n,r){if(t)throw Error("Multiple directives ["+t.name+", "+n.name+"] asking for "+e+" on: "+L(r))}function U(e,t){var n=s(t,!0);n&&e.push({priority:0,compile:v(function(e,t){var r=t.parent(),i=r.data("$binding")||[];i.push(n),E(r.data("$binding",i),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function N(e,t,n,r){var i=s(n,!0);i&&t.push({priority:100,compile:v(function(e,t,n){var o=n.$$observers||(n.$$observers={});i=s(n[r],!0),i&&(n[r]=i(e),(o[r]||(o[r]=[])).$$inter=!0,(n.$$observers&&n.$$observers[r].$$scope||e).$watch(i,function(e){n.$set(r,e)}))})})}function I(e,t,n){var r,i,o=t[0],a=o.parentNode;if(e)for(r=0,i=e.length;i>r;r++)if(e[r]==o){e[r]=n;break}a&&a.replaceChild(n,o),n[Zn.expando]=o[Zn.expando],t[0]=n}var H=function(e,t){this.$$element=e,this.$attr=t||{}};H.prototype={$normalize:_t,$set:function(e,t,r,i){var a,c=$t(this.$$element[0],e),s=this.$$observers;c&&(this.$$element.prop(e,t),i=c),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e],i||(this.$attr[e]=i=Y(e,"-"))),"A"===Kn(this.$$element[0])&&"href"===e&&(V.setAttribute("href",t),a=V.href,a.match(p)||(this[e]=t="unsafe:"+a)),r!==!1&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t)),s&&o(s[e],function(e){try{e(t)}catch(n){f(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),b.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var V=k[0].createElement("a"),B=s.startSymbol(),z=s.endSymbol(),W="{{"==B||"}}"==z?h:function W(e){return e.replace(/\{\{/g,B).replace(/}}/g,z)
},G=/^ngAttr[A-Z]/;return T}]}function _t(e){return rt(e.replace(kr,""))}function Dt(){var e={};this.register=function(t,n){$(t)?l(e,t):e[t]=n},this.$get=["$injector","$window",function(t,n){return function(r,i){if(y(r)){var o=r;r=e.hasOwnProperty(o)?e[o]:Xt(i.$scope,o,!0)||Xt(n,o,!0),Q(r,o,!0)}return t.instantiate(r,i)}}]}function Ot(){this.$get=["$window",function(e){return Zn(e.document)}]}function qt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Rt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler",function(r,i){function o(o,s){for(var u,l,p,f,d=0,h=[],v=o.length,g=!1,m=[];v>d;)-1!=(u=o.indexOf(e,d))&&-1!=(l=o.indexOf(t,u+a))?(d!=u&&h.push(o.substring(d,u)),h.push(p=r(f=o.substring(u+a,l))),p.exp=f,d=l+c,g=!0):(d!=v&&h.push(o.substring(d)),d=v);return(v=h.length)||(h.push(""),v=1),!s||g?(m.length=v,p=function(e){try{for(var t,r=0,a=v;a>r;r++)"function"==typeof(t=h[r])&&(t=t(e),null==t||t==n?t="":"string"!=typeof t&&(t=I(t))),m[r]=t;return m.join("")}catch(c){var s=Error("Error while interpolating: "+o+"\n"+(""+c));i(s)}},p.exp=o,p.parts=h,p):n}var a=e.length,c=t.length;return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function jt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=W(t[n]);return t.join("/")}function Ut(e,t){var n=Tr.exec(e);return n={protocol:n[1],host:n[3],port:p(n[5])||Ar[n[1]]||null,path:n[6]||"/",search:n[8],hash:n[10]},t&&(t.$$protocol=n.protocol,t.$$host=n.host,t.$$port=n.port),n}function Ft(e,t,n){return e+"://"+t+(n==Ar[e]?"":":"+n)}function Nt(e){return e.substr(0,e.lastIndexOf("/"))}function It(e,t,n){var r=Ut(e);return decodeURIComponent(r.path)!=t||g(r.hash)||0!==r.hash.indexOf(n)?e:Ft(r.protocol,r.host,r.port)+Nt(t)+r.hash.substr(n.length)}function Ht(e,t,n){var r=Ut(e);if(decodeURIComponent(r.path)!=t||g(r.hash)||0!==r.hash.indexOf(n)){var i=r.search&&"?"+r.search||"",o=r.hash&&"#"+r.hash||"",a=Nt(t),c=r.path.substr(a.length);if(0!==r.path.indexOf(a))throw Error('Invalid url "'+e+'", missing path prefix "'+a+'" !');return Ft(r.protocol,r.host,r.port)+t+"#"+n+c+i+o}return e}function Vt(e,t,r){t=t||"",this.$$parse=function(e){var n=Ut(e,this);if(0!==n.path.indexOf(t))throw Error('Invalid url "'+e+'", missing path prefix "'+t+'" !');this.$$path=decodeURIComponent(n.path.substr(t.length)),this.$$search=B(n.search),this.$$hash=n.hash&&decodeURIComponent(n.hash)||"",this.$$compose()},this.$$compose=function(){var e=z(this.$$search),n=this.$$hash?"#"+W(this.$$hash):"";this.$$url=jt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=Ft(this.$$protocol,this.$$host,this.$$port)+t+this.$$url},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(r)?e:n},this.$$parse(e)}function Lt(e,t,r){var i;this.$$parse=function(e){var n=Ut(e,this);if(n.hash&&0!==n.hash.indexOf(t))throw Error('Invalid url "'+e+'", missing hash prefix "'+t+'" !');i=n.path+(n.search?"?"+n.search:""),n=Sr.exec((n.hash||"").substr(t.length)),this.$$path=n[1]?("/"==n[1].charAt(0)?"":"/")+decodeURIComponent(n[1]):"",this.$$search=B(n[3]),this.$$hash=n[5]&&decodeURIComponent(n[5])||"",this.$$compose()},this.$$compose=function(){var e=z(this.$$search),n=this.$$hash?"#"+W(this.$$hash):"";this.$$url=jt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=Ft(this.$$protocol,this.$$host,this.$$port)+i+(this.$$url?"#"+t+this.$$url:"")},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(r)?e:n},this.$$parse(e)}function Bt(e,t,r,i){Lt.apply(this,arguments),this.$$rewriteAppUrl=function(e){return 0==e.indexOf(r)?r+i+"#"+t+e.substr(r.length):n}}function zt(e){return function(){return this[e]}}function Wt(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Gt(){var t="",n=!1;this.hashPrefix=function(e){return m(e)?(t=e,this):t},this.html5Mode=function(e){return m(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,o,a){function c(e){r.$broadcast("$locationChangeSuccess",s.absUrl(),e)}var s,u,l,p,f=i.url(),d=Ut(f);n?(u=i.baseHref()||"/",l=Nt(u),p=Ft(d.protocol,d.host,d.port)+l+"/",s=o.history?new Vt(It(f,u,t),l,p):new Bt(Ht(f,u,t),t,p,u.substr(l.length+1))):(p=Ft(d.protocol,d.host,d.port)+(d.path||"")+(d.search?"?"+d.search:"")+"#"+t+"/",s=new Lt(f,t,p)),a.bind("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=Zn(t.target);"a"!==Bn(n[0].nodeName);)if(n[0]===a[0]||!(n=n.parent())[0])return;var i=n.prop("href"),o=s.$$rewriteAppUrl(i);i&&!n.attr("target")&&o&&(s.$$parse(o),r.$apply(),t.preventDefault(),e.angular["ff-684208-preventDefault"]=!0)}}),s.absUrl()!=f&&i.url(s.absUrl(),!0),i.onUrlChange(function(e){s.absUrl()!=e&&(r.$evalAsync(function(){var t=s.absUrl();s.$$parse(e),c(t)}),r.$$phase||r.$digest())});var h=0;return r.$watch(function(){var e=i.url(),t=s.$$replace;return h&&e==s.absUrl()||(h++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",s.absUrl(),e).defaultPrevented?s.$$parse(e):(i.url(s.absUrl(),t),c(e))})),s.$$replace=!1,h}),s}]}function Zt(){var e=!0,t=this;this.debugEnabled=function(t){return m(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||d;return i.apply?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,t)}}return{log:i("log"),warn:i("warn"),info:i("info"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Jt(e,t){function r(e){return-1!=e.indexOf(g)}function i(e){return-1!=e.indexOf(b)}function o(t){var n=t||1;return e.length>y+n?e.charAt(y+n):!1}function a(e){return e>="0"&&"9">=e}function c(e){return" "==e||"\r"==e||"	"==e||"\n"==e||""==e||"Â "==e}function s(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e||"$"==e}function u(e){return"-"==e||"+"==e||a(e)}function p(t,n,r){throw r=r||y,Error("Lexer Error: "+t+" at column"+(m(n)?"s "+n+"-"+y+" ["+e.substring(n,r)+"]":" "+r)+" in expression ["+e+"].")}function f(){for(var t="",n=y;e.length>y;){var r=Bn(e.charAt(y));if("."==r||a(r))t+=r;else{var i=o();if("e"==r&&u(i))t+=r;else if(u(r)&&i&&a(i)&&"e"==t.charAt(t.length-1))t+=r;else{if(!u(r)||i&&a(i)||"e"!=t.charAt(t.length-1))break;p("Invalid exponent")}}y++}t=1*t,$.push({index:n,text:t,json:!0,fn:function(){return t}})}function d(){for(var n,r,i,o="",u=y;e.length>y;){var p=e.charAt(y);if("."!=p&&!s(p)&&!a(p))break;"."==p&&(n=y),o+=p,y++}if(n)for(r=y;e.length>r;){var p=e.charAt(r);if("("==p){i=o.substr(n-u+1),o=o.substr(0,n-u),y=r;break}if(!c(p))break;r++}var f={index:u,text:o};if(Pr.hasOwnProperty(o))f.fn=f.json=Pr[o];else{var d=en(o,t);f.fn=l(function(e,t){return d(e,t)},{assign:function(e,t){return Kt(e,o,t)}})}$.push(f),i&&($.push({index:n,text:".",json:!1}),$.push({index:n+1,text:i,json:!1}))}function h(t){var r=y;y++;for(var i="",o=t,a=!1;e.length>y;){var c=e.charAt(y);if(o+=c,a){if("u"==c){var s=e.substring(y+1,y+5);s.match(/[\da-f]{4}/i)||p("Invalid unicode escape [\\u"+s+"]"),y+=4,i+=String.fromCharCode(parseInt(s,16))}else{var u=Mr[c];i+=u?u:c}a=!1}else if("\\"==c)a=!0;else{if(c==t)return y++,$.push({index:r,text:o,string:i,json:!0,fn:function(){return i}}),n;i+=c}y++}p("Unterminated quote",r)}for(var v,g,$=[],y=0,w=[],b=":";e.length>y;){if(g=e.charAt(y),r("\"'"))h(g);else if(a(g)||r(".")&&a(o()))f();else if(s(g))d(),i("{,")&&"{"==w[0]&&(v=$[$.length-1])&&(v.json=-1==v.text.indexOf("."));else if(r("(){}[].,;:"))$.push({index:y,text:g,json:i(":[,")&&r("{[")||r("}]:,")}),r("{[")&&w.unshift(g),r("}]")&&w.shift(),y++;else{if(c(g)){y++;continue}var x=g+o(),C=x+o(2),k=Pr[g],T=Pr[x],E=Pr[C];E?($.push({index:y,text:C,fn:E}),y+=3):T?($.push({index:y,text:x,fn:T}),y+=2):k?($.push({index:y,text:g,fn:k,json:i("[,:")&&r("+-")}),y+=1):p("Unexpected next character ",y,y+1)}b=g}return $}function Yt(e,t,r,i){function o(t,n){throw Error("Syntax Error: Token '"+n.text+"' "+t+" at column "+(n.index+1)+" of the expression ["+e+"] starting at ["+e.substring(n.index)+"].")}function a(){if(0===R.length)throw Error("Unexpected end of expression: "+e);return R[0]}function c(e,t,n,r){if(R.length>0){var i=R[0],o=i.text;if(o==e||o==t||o==n||o==r||!e&&!t&&!n&&!r)return i}return!1}function s(e,n,r,i){var a=c(e,n,r,i);return a?(t&&!a.json&&o("is not valid json",a),R.shift(),a):!1}function u(e){s(e)||o("is unexpected, expecting ["+e+"]",c())}function p(e,t){return l(function(n,r){return e(n,r,t)},{constant:t.constant})}function f(e,t,n){return l(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})}function h(){for(var e=[];;)if(R.length>0&&!c("}",")",";","]")&&e.push(I()),!s(";"))return 1==e.length?e[0]:function(t,n){for(var r,i=0;e.length>i;i++){var o=e[i];o&&(r=o(t,n))}return r}}function g(){for(var e,t=$();;){if(!(e=s("|")))return t;t=f(t,e.fn,m())}}function m(){for(var e=s(),t=r(e.text),n=[];;){if(!(e=s(":"))){var i=function(e,r,i){for(var o=[i],a=0;n.length>a;a++)o.push(n[a](e,r));return t.apply(e,o)};return function(){return i}}n.push($())}}function $(){return j()}function y(){var t,n,r=w();return(n=s("="))?(r.assign||o("implies assignment but ["+e.substring(0,n.index)+"] can not be assigned to",n),t=w(),function(e,n){return r.assign(e,t(e,n),n)}):r}function w(){for(var e,t=b();;){if(!(e=s("||")))return t;t=f(t,e.fn,b())}}function b(){var e,t=x();return(e=s("&&"))&&(t=f(t,e.fn,b())),t}function x(){var e,t=C();return(e=s("==","!=","===","!=="))&&(t=f(t,e.fn,x())),t}function C(){var e,t=k();return(e=s("<",">","<=",">="))&&(t=f(t,e.fn,C())),t}function k(){for(var e,t=T();e=s("+","-");)t=f(t,e.fn,T());return t}function T(){for(var e,t=E();e=s("*","/","%");)t=f(t,e.fn,E());return t}function E(){var e;return s("+")?S():(e=s("-"))?f(q,e.fn,E()):(e=s("!"))?p(e.fn,E()):S()}function S(){var e;if(s("("))e=I(),u(")");else if(s("["))e=_();else if(s("{"))e=D();else{var t=s();e=t.fn,e||o("not a primary expression",t),t.json&&(e.constant=e.literal=!0)}for(var n,r;n=s("(","[",".");)"("===n.text?(e=U(e,r),r=null):"["===n.text?(r=e,e=N(e)):"."===n.text?(r=e,e=F(e)):o("IMPOSSIBLE");return e}function A(e){var t=s().text,n=en(t,i);return l(function(t,r){return n(e(t,r),r)},{assign:function(n,r,i){return Kt(e(n,i),t,r)}})}function P(e){var t=$();return u("]"),l(function(r,i){var o,a,c=e(r,i),s=t(r,i);return c?(o=c[s],o&&o.then&&(a=o,"$$v"in o||(a.$$v=n,a.then(function(e){a.$$v=e})),o=o.$$v),o):n},{assign:function(n,r,i){return e(n,i)[t(n,i)]=r}})}function M(e,t){var n=[];if(")"!=a().text)do n.push($());while(s(","));return u(")"),function(r,i){for(var o=[],a=t?t(r,i):r,c=0;n.length>c;c++)o.push(n[c](r,i));var s=e(r,i)||d;return s.apply?s.apply(a,o):s(o[0],o[1],o[2],o[3],o[4])}}function _(){var e=[],t=!0;if("]"!=a().text)do{var n=$();e.push(n),n.constant||(t=!1)}while(s(","));return u("]"),l(function(t,n){for(var r=[],i=0;e.length>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})}function D(){var e=[],t=!0;if("}"!=a().text)do{var n=s(),r=n.string||n.text;u(":");var i=$();e.push({key:r,value:i}),i.constant||(t=!1)}while(s(","));return u("}"),l(function(t,n){for(var r={},i=0;e.length>i;i++){var o=e[i],a=o.value(t,n);r[o.key]=a}return r},{literal:!0,constant:t})}var O,q=v(0),R=Jt(e,i),j=y,U=M,F=A,N=P,I=g;return t?(j=w,U=F=N=I=function(){o("is not valid json",{text:e,index:0})},O=S()):O=h(),0!==R.length&&o("is an unexpected token",R[0]),O.literal=!!O.literal,O.constant=!!O.constant,O}function Kt(e,t,n){for(var r=t.split("."),i=0;r.length>1;i++){var o=r.shift(),a=e[o];a||(a={},e[o]=a),e=a}return e[r.shift()]=n,n}function Xt(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,c=0;a>c;c++)r=i[c],e&&(e=(o=e)[r]);return!n&&C(e)?F(o,e):e}function Qt(e,t,r,i,o){return function(a,c){var s,u=c&&c.hasOwnProperty(e)?c:a;return null===u||u===n?u:(u=u[e],u&&u.then&&("$$v"in u||(s=u,s.$$v=n,s.then(function(e){s.$$v=e})),u=u.$$v),t&&null!==u&&u!==n?(u=u[t],u&&u.then&&("$$v"in u||(s=u,s.$$v=n,s.then(function(e){s.$$v=e})),u=u.$$v),r&&null!==u&&u!==n?(u=u[r],u&&u.then&&("$$v"in u||(s=u,s.$$v=n,s.then(function(e){s.$$v=e})),u=u.$$v),i&&null!==u&&u!==n?(u=u[i],u&&u.then&&("$$v"in u||(s=u,s.$$v=n,s.then(function(e){s.$$v=e})),u=u.$$v),o&&null!==u&&u!==n?(u=u[o],u&&u.then&&("$$v"in u||(s=u,s.$$v=n,s.then(function(e){s.$$v=e})),u=u.$$v),u):u):u):u):u)}}function en(e,t){if(_r.hasOwnProperty(e))return _r[e];var r,i=e.split("."),a=i.length;if(t)r=6>a?Qt(i[0],i[1],i[2],i[3],i[4]):function(e,t){var r,o=0;do r=Qt(i[o++],i[o++],i[o++],i[o++],i[o++])(e,t),t=n,e=r;while(a>o);return r};else{var c="var l, fn, p;\n";o(i,function(e,t){c+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"}),c+="return s;",r=Function("s","k",c),r.toString=function(){return c}}return _r[e]=r}function tn(){var e={};this.$get=["$filter","$sniffer",function(t,n){return function(r){switch(typeof r){case"string":return e.hasOwnProperty(r)?e[r]:e[r]=Yt(r,!1,t,n.csp);case"function":return r;default:return d}}}]}function nn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return rn(function(t){e.$evalAsync(t)},t)}]}function rn(e,t){function r(e){return e}function i(e){return u(e)}function a(e){var t=c(),n=0,r=x(e)?[]:{};return o(e,function(e,i){n++,s(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var c=function(){var o,a,l=[];return a={resolve:function(t){if(l){var r=l;l=n,o=s(t),r.length&&e(function(){for(var e,t=0,n=r.length;n>t;t++)e=r[t],o.then(e[0],e[1])})}},reject:function(e){a.resolve(u(e))},promise:{then:function(e,n){var a=c(),s=function(n){try{a.resolve((e||r)(n))}catch(i){t(i),a.reject(i)}},u=function(e){try{a.resolve((n||i)(e))}catch(r){t(r),a.reject(r)}};return l?l.push([s,u]):o.then(s,u),a.promise}}}},s=function(t){return t&&t.then?t:{then:function(n){var r=c();return e(function(){r.resolve(n(t))}),r.promise}}},u=function(t){return{then:function(n,r){var o=c();return e(function(){o.resolve((r||i)(t))}),o.promise}}},l=function(n,o,a){var l,p=c(),f=function(e){try{return(o||r)(e)}catch(n){return t(n),u(n)}},d=function(e){try{return(a||i)(e)}catch(n){return t(n),u(n)}};return e(function(){s(n).then(function(e){l||(l=!0,p.resolve(s(e).then(f,d)))},function(e){l||(l=!0,p.resolve(d(e)))})}),p.promise};return{defer:c,reject:u,when:l,all:a}}function on(){var e={};this.when=function(t,n){if(e[t]=l({reloadOnSearch:!0,caseInsensitiveMatch:!1},n),t){var r="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";e[r]={redirectTo:t}}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(t,n,r,i,a,c,s){function u(e,t,n){t="^"+t.replace(/[-\/\\^$:*+?.()|[\]{}]/g,"\\$&")+"$";for(var r,i="",a=[],c={},s=/\\([:*])(\w+)/g,u=0;null!==(r=s.exec(t));){switch(i+=t.slice(u,r.index),r[1]){case":":i+="([^\\/]*)";break;case"*":i+="(.*)"}a.push(r[2]),u=s.lastIndex}i+=t.substr(u);var l=e.match(RegExp(i,n.caseInsensitiveMatch?"i":""));return l&&o(a,function(e,t){c[e]=l[t+1]}),l?c:null}function p(){var e=d(),u=g.current;e&&u&&e.$$route===u.$$route&&R(e.pathParams,u.pathParams)&&!e.reloadOnSearch&&!v?(u.params=e.params,O(u.params,r),t.$broadcast("$routeUpdate",u)):(e||u)&&(v=!1,t.$broadcast("$routeChangeStart",e,u),g.current=e,e&&e.redirectTo&&(y(e.redirectTo)?n.path(h(e.redirectTo,e.params)).search(e.params).replace():n.url(e.redirectTo(e.pathParams,n.path(),n.search())).replace()),i.when(e).then(function(){if(e){var t,n=l({},e.resolve);return o(n,function(e,t){n[t]=y(e)?a.get(e):a.invoke(e)}),m(t=e.template)?C(t)&&(t=t(e.params)):m(t=e.templateUrl)&&(C(t)&&(t=t(e.params)),m(t)&&(e.loadedTemplateUrl=t,t=c.get(t,{cache:s}).then(function(e){return e.data}))),m(t)&&(n.$template=t),i.all(n)}}).then(function(n){e==g.current&&(e&&(e.locals=n,O(e.params,r)),t.$broadcast("$routeChangeSuccess",e,u))},function(n){e==g.current&&t.$broadcast("$routeChangeError",e,u,n)}))}function d(){var t,r;return o(e,function(e,i){!r&&(t=u(n.path(),i,e))&&(r=f(e,{params:l({},n.search(),t),pathParams:t}),r.$$route=e)}),r||e[null]&&f(e[null],{params:{},pathParams:{}})}function h(e,t){var n=[];return o((e||"").split(":"),function(e,r){if(0==r)n.push(e);else{var i=e.match(/(\w+)(.*)/),o=i[1];n.push(t[o]),n.push(i[2]||""),delete t[o]}}),n.join("")}var v=!1,g={routes:e,reload:function(){v=!0,t.$evalAsync(p)}};return t.$on("$locationChangeSuccess",p),g}]}function an(){this.$get=v({})}function cn(){var e=10;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse",function(t,n,r){function i(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function o(e){if(l.$$phase)throw Error(l.$$phase+" already in progress");l.$$phase=e}function a(){l.$$phase=null}function c(e,t){var n=r(e);return Q(n,t),n}function s(){}i.prototype={$new:function(e){var t,n;if(C(e))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return e?(n=new i,n.$root=this.$root):(t=function(){},t.prototype=this,n=new t,n.$id=u()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var r=this,i=c(e,"watch"),o=r.$$watchers,a={fn:t,last:s,get:i,exp:e,eq:!!n};if(!C(t)){var u=c(t||d,"listener");a.fn=function(e,t,n){u(n)}}if("string"==typeof e&&i.constant){var l=a.fn;a.fn=function(e,t,n){l.call(this,e,t,n),D(o,a)}}return o||(o=r.$$watchers=[]),o.unshift(a),function(){D(o,a)}},$watchCollection:function(e,t){function n(){a=u(c);var e,t;if($(a))if(x(a)){o!==l&&(o=l,f=o.length=0,s++),e=a.length,f!==e&&(s++,o.length=f=e);for(var n=0;e>n;n++)o[n]!==a[n]&&(s++,o[n]=a[n])}else{o!==p&&(o=p={},f=0,s++),e=0;for(t in a)a.hasOwnProperty(t)&&(e++,o.hasOwnProperty(t)?o[t]!==a[t]&&(s++,o[t]=a[t]):(f++,o[t]=a[t],s++));if(f>e){s++;for(t in o)o.hasOwnProperty(t)&&!a.hasOwnProperty(t)&&(f--,delete o[t])}}else o!==a&&(o=a,s++);return s}function i(){t(a,o,c)}var o,a,c=this,s=0,u=r(e),l=[],p={},f=0;return this.$watch(n,i)},$digest:function(){var t,r,i,c,u,l,p,f,d,h,v=this.$$asyncQueue,g=e,m=this,$=[];o("$digest");do{for(l=!1,f=m;v.length;)try{f.$eval(v.shift())}catch(y){n(y)}do{if(c=f.$$watchers)for(u=c.length;u--;)try{t=c[u],(r=t.get(f))===(i=t.last)||(t.eq?R(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))||(l=!0,t.last=t.eq?O(r):r,t.fn(r,i===s?r:i,f),5>g&&(d=4-g,$[d]||($[d]=[]),h=C(t.exp)?"fn: "+(t.exp.name||""+t.exp):t.exp,h+="; newVal: "+I(r)+"; oldVal: "+I(i),$[d].push(h)))}catch(y){n(y)}if(!(p=f.$$childHead||f!==m&&f.$$nextSibling))for(;f!==m&&!(p=f.$$nextSibling);)f=f.$parent}while(f=p);if(l&&!g--)throw a(),Error(e+" $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: "+I($))}while(l||v.length);a()},$destroy:function(){if(l!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return r(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{return o("$apply"),this.$eval(e)}catch(t){n(t)}finally{a();try{l.$digest()}catch(t){throw n(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[_(n,t)]=null}},$emit:function(e){var t,r,i,o=[],a=this,c=!1,s={name:e,targetScope:a,stopPropagation:function(){c=!0},preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},u=j([s],arguments,1);do{for(t=a.$$listeners[e]||o,s.currentScope=a,r=0,i=t.length;i>r;r++)if(t[r])try{if(t[r].apply(null,u),c)return s}catch(l){n(l)}else t.splice(r,1),r--,i--;a=a.$parent}while(a);return s},$broadcast:function(e){var t,r,i,o=this,a=o,c=o,s={name:e,targetScope:o,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},u=j([s],arguments,1);do{for(a=c,s.currentScope=a,t=a.$$listeners[e]||[],r=0,i=t.length;i>r;r++)if(t[r])try{t[r].apply(null,u)}catch(l){n(l)}else t.splice(r,1),r--,i--;if(!(c=a.$$childHead||a!==o&&a.$$nextSibling))for(;a!==o&&!(c=a.$$nextSibling);)a=a.$parent}while(a=c);return s}};var l=new i;return l}]}function sn(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=p((/android (\d+)/.exec(Bn((e.navigator||{}).userAgent))||[])[1]),a=t[0]||{},c=/^(Moz|webkit|O|ms)(?=[A-Z])/,s=a.body&&a.body.style,u=!1;if(s){for(var l in s)if(r=c.exec(l)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}u=!!(n+"Transition"in s)}return{history:!(!e.history||!e.history.pushState||4>o),hashchange:"onhashchange"in e&&(!a.documentMode||a.documentMode>7),hasEvent:function(e){if("input"==e&&9==Xn)return!1;if(g(i[e])){var t=a.createElement("div");i[e]="on"+e in t}return i[e]},csp:a.securityPolicy?a.securityPolicy.isActive:!1,vendorPrefix:n,supportsTransitions:u}}]}function un(){this.$get=v(e)}function ln(e){var t,n,r,i={};return e?(o(e.split("\n"),function(e){r=e.indexOf(":"),t=Bn(S(e.substr(0,r))),n=S(e.substr(r+1)),t&&(i[t]?i[t]+=", "+n:i[t]=n)}),i):i}function pn(e,t){var r=Dr.exec(e);if(null==r)return!0;var i={protocol:r[2],host:r[4],port:p(r[6])||Ar[r[2]]||null,relativeProtocol:r[2]===n||""===r[2]};r=Tr.exec(t);var o={protocol:r[1],host:r[3],port:p(r[5])||Ar[r[1]]||null};return(i.protocol==o.protocol||i.relativeProtocol)&&i.host==o.host&&(i.port==o.port||i.relativeProtocol&&o.port==Ar[o.protocol])}function fn(e){var t=$(e)?e:n;return function(n){return t||(t=ln(e)),n?t[Bn(n)]||null:t}}function dn(e,t,n){return C(n)?n(e,t):(o(n,function(n){e=n(e,t)}),e)}function hn(e){return e>=200&&300>e}function vn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i=this.defaults={transformResponse:[function(n){return y(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=H(n,!0))),n}],transformRequest:[function(e){return $(e)&&!E(e)?I(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],s=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,u,p,f){function d(e){function r(e){var t=l({},e,{data:dn(e.data,e.headers,a.transformResponse)});return hn(e.status)?t:p.reject(t)}var a={transformRequest:i.transformRequest,transformResponse:i.transformResponse},c={};l(a,e),a.headers=c,a.method=zn(a.method),l(c,i.headers.common,i.headers[Bn(a.method)],e.headers);var s=pn(a.url,t.url())?t.cookies()[a.xsrfCookieName||i.xsrfCookieName]:n;s&&(c[a.xsrfHeaderName||i.xsrfHeaderName]=s);var u=function(e){var t=dn(e.data,fn(c),e.transformRequest);return g(e.data)&&delete c["Content-Type"],g(e.withCredentials)&&!g(i.withCredentials)&&(e.withCredentials=i.withCredentials),m(e,t,c).then(r,r)},f=[u,n],d=p.when(a);for(o(C,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var h=f.shift(),v=f.shift();d=d.then(h,v)}return d.success=function(e){return d.then(function(t){e(t.data,t.status,t.headers,a)}),d},d.error=function(e){return d.then(null,function(t){e(t.data,t.status,t.headers,a)}),d},d}function h(){o(arguments,function(e){d[e]=function(t,n){return d(l(n||{},{method:e,url:t}))}})}function v(){o(arguments,function(e){d[e]=function(t,n,r){return d(l(r||{},{method:e,url:t,data:n}))}})}function m(t,n,r){function o(e,t,n){s&&(hn(e)?s.put(v,[e,t,ln(n)]):s.remove(v)),a(t,e,n),u.$apply()}function a(e,n,r){n=Math.max(n,0),(hn(n)?f.resolve:f.reject)({data:e,status:n,headers:fn(r),config:t})}function c(){var e=_(d.pendingRequests,t);-1!==e&&d.pendingRequests.splice(e,1)}var s,l,f=p.defer(),h=f.promise,v=w(t.url,t.params);if(d.pendingRequests.push(t),h.then(c,c),(t.cache||i.cache)&&t.cache!==!1&&"GET"==t.method&&(s=$(t.cache)?t.cache:$(i.cache)?i.cache:b),s)if(l=s.get(v)){if(l.then)return l.then(c,c),l;x(l)?a(l[1],l[0],O(l[2])):a(l,200,{})}else s.put(v,h);return l||e(t.method,v,n,o,r,t.timeout,t.withCredentials,t.responseType),h}function w(e,t){if(!t)return e;var r=[];return c(t,function(e,t){null!=e&&e!=n&&(x(e)||(e=[e]),o(e,function(e){$(e)&&(e=I(e)),r.push(G(t)+"="+G(e))}))}),e+(-1==e.indexOf("?")?"?":"&")+r.join("&")}var b=r("$http"),C=[];return o(a,function(e){C.unshift(y(e)?f.get(e):f.invoke(e))}),o(s,function(e,t){var n=y(e)?f.get(e):f.invoke(e);C.splice(t,0,{response:function(e){return n(p.when(e))},responseError:function(e){return n(p.reject(e))}})}),d.pendingRequests=[],h("get","delete","head","jsonp"),v("post","put"),d.defaults=i,d}]}function gn(){this.$get=["$browser","$window","$document",function(e,t,n){return mn(e,Or,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function mn(e,t,n,r,i,a){function c(e,t){var n=i.createElement("script"),r=function(){i.body.removeChild(n),t&&t()};n.type="text/javascript",n.src=e,Xn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=r,i.body.appendChild(n)}return function(i,s,u,l,p,f,h,v){function g(t,n,r,i){var o=(s.match(Tr)||["",a])[1];n="file"==o?r?200:404:n,n=1223==n?204:n,t(n,r,i),e.$$completeOutstandingRequest(d)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Bn(i)){var m="_"+(r.counter++).toString(36);r[m]=function(e){r[m].data=e},c(s.replace("JSON_CALLBACK","angular.callbacks."+m),function(){r[m].data?g(l,200,r[m].data):g(l,-2),delete r[m]})}else{var $=new t;$.open(i,s,!0),o(p,function(e,t){e&&$.setRequestHeader(t,e)});var y;$.onreadystatechange=function(){if(4==$.readyState){var e=$.getAllResponseHeaders(),t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];e||(e="",o(t,function(t){var n=$.getResponseHeader(t);n&&(e+=t+": "+n+"\n")})),g(l,y||$.status,$.responseType?$.response:$.responseText,e)}},h&&($.withCredentials=!0),v&&($.responseType=v),$.send(u||""),f>0&&n(function(){y=-1,$.abort()},f)}}}function $n(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"Â¤",posSuf:"",negPre:"(Â¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function yn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,a,c){var s,u,l=n.defer(),p=l.promise,f=m(c)&&!c;return s=t.defer(function(){try{l.resolve(i())}catch(t){l.reject(t),r(t)}f||e.$apply()},a),u=function(){delete o[p.$$timeoutId]},p.$$timeoutId=s,o[s]=l,p.then(u,u),p}var o={};return i.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),t.defer.cancel(e.$$timeoutId)):!1},i}]}function wn(e){function t(t,r){return e.factory(t+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",xn),t("date",Mn),t("filter",bn),t("json",_n),t("limitTo",Dn),t("lowercase",Fr),t("number",Cn),t("orderBy",On),t("uppercase",Nr)}function bn(){return function(e,t,n){if(!x(e))return e;var r=[];switch(r.check=function(e){for(var t=0;r.length>t;t++)if(!r[t](e))return!1;return!0},typeof n){case"function":break;case"boolean":if(1==n){n=function(e,t){return rr.equals(e,t)};break}default:n=function(e,t){return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1}}var i=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!i(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&i(e[r],t))return!0}return!1;case"array":for(var o=0;e.length>o;o++)if(i(e[o],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)"$"==o?function(){if(t[o]){var e=o;r.push(function(n){return i(n,t[e])})}}():function(){if(t[o]){var e=o;r.push(function(n){return i(Xt(n,e),t[e])})}}();break;case"function":r.push(t);break;default:return e}for(var a=[],c=0;e.length>c;c++){var s=e[c];r.check(s)&&a.push(s)}return a}}function xn(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),kn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Cn(e){var t=e.NUMBER_FORMATS;return function(e,n){return kn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function kn(e,t,n,r,i){if(isNaN(e)||!isFinite(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",c="",s=[],u=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>i+1?a="0":(c=a,u=!0)}if(!u){var p=(a.split(qr)[1]||"").length;g(i)&&(i=Math.min(Math.max(t.minFrac,p),t.maxFrac));var f=Math.pow(10,i);e=Math.round(e*f)/f;var d=(""+e).split(qr),h=d[0];d=d[1]||"";var v=0,m=t.lgSize,$=t.gSize;if(h.length>=m+$){v=h.length-m;for(var y=0;v>y;y++)0===(v-y)%$&&0!==y&&(c+=n),c+=h.charAt(y)}for(y=v;h.length>y;y++)0===(h.length-y)%m&&0!==y&&(c+=n),c+=h.charAt(y);for(;i>d.length;)d+="0";i&&"0"!==i&&(c+=r+d.substr(0,i))}return s.push(o?t.negPre:t.posPre),s.push(c),s.push(o?t.negSuf:t.posSuf),s.join("")}function Tn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;t>e.length;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function En(e,t,n,r){return function(i){var o=i["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Tn(o,t,r)}}function Sn(e,t){return function(n,r){var i=n["get"+e](),o=zn(t?"SHORT"+e:e);return r[o][i]}}function An(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Tn(Math[t>0?"floor":"ceil"](t/60),2)+Tn(Math.abs(t%60),2)}function Pn(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]}function Mn(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,c=t[8]?r.setUTCHours:r.setHours;return t[9]&&(i=p(t[9]+t[10]),o=p(t[9]+t[11])),a.call(r,p(t[1]),p(t[2])-1,p(t[3])),c.call(r,p(t[4]||0)-i,p(t[5]||0)-o,p(t[6]||0),p(t[7]||0)),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,a,c="",s=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,y(n)&&(n=Ur.test(n)?p(n):t(n)),w(n)&&(n=new Date(n)),!b(n))return n;for(;r;)a=jr.exec(r),a?(s=j(s,a,1),r=s.pop()):(s.push(r),r=null);return o(s,function(t){i=Rr[t],c+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function _n(){return function(e){return I(e,!0)}}function Dn(){return function(e,t){if(!x(e)&&!y(e))return e;if(t=p(t),y(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";
var n,r,i=[];for(t>e.length?t=e.length:-e.length>t&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)i.push(e[n]);return i}}function On(e){return function(t,n,r){function i(e,t){for(var r=0;n.length>r;r++){var i=n[r](e,t);if(0!==i)return i}return 0}function o(e,t){return V(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?("string"==n&&(e=e.toLowerCase()),"string"==n&&(t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}if(!x(t))return t;if(!n)return t;n=x(n)?n:[n],n=P(n,function(t){var n=!1,r=t||h;return y(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),r=e(t)),o(function(e,t){return a(r(e),r(t))},n)});for(var c=[],s=0;t.length>s;s++)c.push(t[s]);return c.sort(o(i,r))}}function qn(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function Rn(e,t){function n(t,n){n=n?"-"+Y(n,"-"):"",e.removeClass((t?Xr:Kr)+n).addClass((t?Kr:Xr)+n)}var r=this,i=e.parent().controller("form")||Vr,a=0,c=r.$error={},s=[];r.$name=t.name,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,i.$addControl(r),e.addClass(Qr),n(!0),r.$addControl=function(e){s.push(e),e.$name&&!r.hasOwnProperty(e.$name)&&(r[e.$name]=e)},r.$removeControl=function(e){e.$name&&r[e.$name]===e&&delete r[e.$name],o(c,function(t,n){r.$setValidity(n,!0,e)}),D(s,e)},r.$setValidity=function(e,t,o){var s=c[e];if(t)s&&(D(s,o),s.length||(a--,a||(n(t),r.$valid=!0,r.$invalid=!1),c[e]=!1,n(!0,e),i.$setValidity(e,!0,r)));else{if(a||n(t),s){if(M(s,o))return}else c[e]=s=[],a++,n(!1,e),i.$setValidity(e,!1,r);s.push(o),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){e.removeClass(Qr).addClass(ei),r.$dirty=!0,r.$pristine=!1,i.$setDirty()},r.$setPristine=function(){e.removeClass(ei).addClass(Qr),r.$dirty=!1,r.$pristine=!0,o(s,function(e){e.$setPristine()})}}function jn(e){return g(e)||""===e||null===e||e!==e}function Un(e,t,r,i,o,a){var c=function(){var n=t.val();V(r.ngTrim||"T")&&(n=S(n)),i.$viewValue!==n&&e.$apply(function(){i.$setViewValue(n)})};if(o.hasEvent("input"))t.bind("input",c);else{var s;t.bind("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||s||(s=a.defer(function(){c(),s=null}))}),t.bind("change",c)}i.$render=function(){t.val(jn(i.$viewValue)?"":i.$viewValue)};var u,l=r.ngPattern,f=function(e,t){return jn(t)||e.test(t)?(i.$setValidity("pattern",!0),t):(i.$setValidity("pattern",!1),n)};if(l&&(l.match(/^\/(.*)\/$/)?(l=RegExp(l.substr(1,l.length-2)),u=function(e){return f(l,e)}):u=function(t){var n=e.$eval(l);if(!n||!n.test)throw Error("Expected "+l+" to be a RegExp but was "+n);return f(n,t)},i.$formatters.push(u),i.$parsers.push(u)),r.ngMinlength){var d=p(r.ngMinlength),h=function(e){return!jn(e)&&d>e.length?(i.$setValidity("minlength",!1),n):(i.$setValidity("minlength",!0),e)};i.$parsers.push(h),i.$formatters.push(h)}if(r.ngMaxlength){var v=p(r.ngMaxlength),g=function(e){return!jn(e)&&e.length>v?(i.$setValidity("maxlength",!1),n):(i.$setValidity("maxlength",!0),e)};i.$parsers.push(g),i.$formatters.push(g)}}function Fn(e,t,r,i,o,a){if(Un(e,t,r,i,o,a),i.$parsers.push(function(e){var t=jn(e);return t||Zr.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),i.$formatters.push(function(e){return jn(e)?"":""+e}),r.min){var c=parseFloat(r.min),s=function(e){return!jn(e)&&c>e?(i.$setValidity("min",!1),n):(i.$setValidity("min",!0),e)};i.$parsers.push(s),i.$formatters.push(s)}if(r.max){var u=parseFloat(r.max),l=function(e){return!jn(e)&&e>u?(i.$setValidity("max",!1),n):(i.$setValidity("max",!0),e)};i.$parsers.push(l),i.$formatters.push(l)}i.$formatters.push(function(e){return jn(e)||w(e)?(i.$setValidity("number",!0),e):(i.$setValidity("number",!1),n)})}function Nn(e,t,r,i,o,a){Un(e,t,r,i,o,a);var c=function(e){return jn(e)||Wr.test(e)?(i.$setValidity("url",!0),e):(i.$setValidity("url",!1),n)};i.$formatters.push(c),i.$parsers.push(c)}function In(e,t,r,i,o,a){Un(e,t,r,i,o,a);var c=function(e){return jn(e)||Gr.test(e)?(i.$setValidity("email",!0),e):(i.$setValidity("email",!1),n)};i.$formatters.push(c),i.$parsers.push(c)}function Hn(e,t,n,r){g(n.name)&&t.attr("name",u()),t.bind("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Vn(e,t,n,r){var i=n.ngTrueValue,o=n.ngFalseValue;y(i)||(i=!0),y(o)||(o=!1),t.bind("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:o})}function Ln(e,t){return e="ngClass"+e,qn(function(r,i,o){function a(e){(t===!0||r.$index%2===t)&&(u&&e!==u&&c(u),s(e)),u=e}function c(e){$(e)&&!x(e)&&(e=P(e,function(e,t){return e?t:n})),i.removeClass(x(e)?e.join(" "):e)}function s(e){$(e)&&!x(e)&&(e=P(e,function(e,t){return e?t:n})),e&&i.addClass(x(e)?e.join(" "):e)}var u=n;r.$watch(o[e],a,!0),o.$observe("class",function(){var t=r.$eval(o[e]);a(t,t)}),"ngClass"!==e&&r.$watch("$index",function(n,i){var a=n%2;a!==i%2&&(a==t?s(r.$eval(o[e])):c(r.$eval(o[e])))})})}var Bn=function(e){return y(e)?e.toLowerCase():e},zn=function(e){return y(e)?e.toUpperCase():e},Wn=function(e){return y(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Gn=function(e){return y(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Bn=Wn,zn=Gn);var Zn,Jn,Yn,Kn,Xn=p((/msie (\d+)/.exec(Bn(navigator.userAgent))||[])[1]),Qn=[].slice,er=[].push,tr=Object.prototype.toString,nr=e.angular,rr=e.angular||(e.angular={}),ir=["0","0","0"];d.$inject=[],h.$inject=[],Kn=9>Xn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?zn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var or=/[A-Z]/g,ar={full:"1.1.4",major:1,minor:1,dot:4,codeName:"quantum-manipulation"},cr=ot.cache={},sr=ot.expando="ng-"+(new Date).getTime(),ur=1,lr=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},pr=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},fr=/([\:\-\_]+(.))/g,dr=/^moz([A-Z])/,hr=ot.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.bind("DOMContentLoaded",r),ot(e).bind("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Zn(this[e]):Zn(this[this.length+e])},length:0,push:er,sort:[].sort,splice:[].splice},vr={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){vr[Bn(e)]=e});var gr={};o("input,select,option,textarea,button,form,details".split(","),function(e){gr[zn(e)]=!0}),o({data:pt,inheritedData:mt,scope:function(e){return mt(e,"$scope")},controller:gt,injector:function(e){return mt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ft,css:function(e,t,r){if(t=rt(t),!m(r)){var i;return 8>=Xn&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=Xn&&(i=""===i?n:i),i}e.style[t]=r},attr:function(e,t,r){var i=Bn(t);if(vr[i]){if(!m(r))return e[t]||(e.attributes.getNamedItem(t)||d).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(m(r))e.setAttribute(t,r);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,r){return m(r)?(e[t]=r,n):e[t]},text:l(9>Xn?function(e,t){if(1==e.nodeType){if(g(t))return e.innerText;e.innerText=t}else{if(g(t))return e.nodeValue;e.nodeValue=t}}:function(e,t){return g(t)?e.textContent:(e.textContent=t,n)},{$dv:""}),val:function(e,t){return g(t)?e.value:(e.value=t,n)},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,r=e.childNodes;r.length>n;n++)ct(r[n]);e.innerHTML=t}},function(e,t){ot.prototype[t]=function(t,r){var i,o;if((2==e.length&&e!==ft&&e!==gt?t:r)!==n){for(i=0;this.length>i;i++)e(this[i],t,r);return this}if($(t)){for(i=0;this.length>i;i++)if(e===pt)e(this[i],t);else for(o in t)e(this[i],o,t[o]);return this}return this.length?e(this[0],t,r):e.$dv}}),o({removeData:ut,dealoc:ct,bind:function mr(e,t,n){var r=lt(e,"events"),i=lt(e,"handle");r||lt(e,"events",r={}),i||lt(e,"handle",i=yt(e,r)),o(t.split(" "),function(t){var o=r[t];if(!o){if("mouseenter"==t||"mouseleave"==t){var a=0;r.mouseenter=[],r.mouseleave=[],mr(e,"mouseover",function(e){a++,1==a&&i(e,"mouseenter")}),mr(e,"mouseout",function(e){a--,0==a&&i(e,"mouseleave")})}else lr(e,t,i),r[t]=[];o=r[t]}o.push(n)})},unbind:st,replaceWith:function(e,t){var n,r=e.parentNode;ct(e),o(new ot(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){o(new ot(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new ot(t),function(t){n?e.insertBefore(t,n):(e.appendChild(t),n=t)})}},wrap:function(e,t){t=Zn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ct(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;o(new ot(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:ht,removeClass:dt,toggleClass:function(e,t,n){g(n)&&(n=!ft(e,t)),(n?ht:dt)(e,t)},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:at,triggerHandler:function(e,t){var n=(lt(e,"events")||{})[t];o(n,function(t){t.call(e,null)})}},function(e,t){ot.prototype[t]=function(t,r){for(var i,o=0;this.length>o;o++)i==n?(i=e(this[o],t,r),i!==n&&(i=Zn(i))):vt(i,e(this[o],t,r));return i==n?this:i}}),bt.prototype={put:function(e,t){this[wt(e)]=t},get:function(e){return this[wt(e)]},remove:function(e){var t=this[e=wt(e)];return delete this[e],t}};var $r=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,yr=/,/,wr=/^\s*(_?)(\S+?)\1\s*$/,br=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;Tt.$inject=["$provide"];var xr=function(){this.$get=["$animation","$window","$sniffer",function(e,t,r){function i(e){e.css("display","")}function a(e){e.css("display","none")}function c(e,t,n){n?n.after(e):t.append(e)}function s(e){e.remove()}function u(e,t,n){c(e,t,n)}return function(l,p){function f(i,a,c){var s=h&&l.$eval(h),u=h?$(s)?s[i]:s+"-"+i:"",p=e(u),f=p&&p.setup,v=p&&p.start;if(u){var g=u+"-setup",m=u+"-start";return function(e,i,s){function u(){if(e.addClass(m),v)v(e,l,p);else if(C(t.getComputedStyle)){var n=r.vendorPrefix+"Transition",i="transition",a="Duration",c=0;o(e,function(e){var r=t.getComputedStyle(e)||{};c=Math.max(parseFloat(r[i+a])||parseFloat(r[n+a])||0,c)}),t.setTimeout(l,1e3*c)}else l()}function l(){c(e,i,s),e.removeClass(g),e.removeClass(m)}if(!r.supportsTransitions&&!f&&!v)return a(e,i,s),c(e,i,s),n;if(e.addClass(g),a(e,i,s),0==e.length)return l();var p=(f||d)(e);t.setTimeout(u,1)}}return function(e,t,n){a(e,t,n),c(e,t,n)}}var h=p.ngAnimate,v={};return v.enter=f("enter",c,d),v.leave=f("leave",d,s),v.move=f("move",u,d),v.show=f("show",i,d),v.hide=f("hide",d,a),v}}]},Cr="Non-assignable model expression: ";Mt.$inject=["$provide"];var kr=/^(x[\:\-_]|data[\:\-_])/i,Tr=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,Er=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,Sr=Er,Ar={http:80,https:443,ftp:21};Vt.prototype={$$replace:!1,absUrl:zt("$$absUrl"),url:function(e,t){if(g(e))return this.$$url;var n=Er.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:zt("$$protocol"),host:zt("$$host"),port:zt("$$port"),path:Wt("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){return g(e)?this.$$search:(m(t)?null===t?delete this.$$search[e]:this.$$search[e]=t:this.$$search=y(e)?B(e):e,this.$$compose(),this)},hash:Wt("$$hash",h),replace:function(){return this.$$replace=!0,this}},Lt.prototype=f(Vt.prototype),Bt.prototype=f(Lt.prototype);var Pr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:d,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),m(r)?m(i)?r+i:r:m(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(m(n)?n:0)-(m(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":d,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},_r={},Dr=/^(([^:]+):)?\/\/(\w+:{0,1}\w*@)?([\w\.-]*)?(:([0-9]+))?(.*)$/,Or=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")};wn.$inject=["$provide"],xn.$inject=["$locale"],Cn.$inject=["$locale"];var qr=".",Rr={yyyy:En("FullYear",4),yy:En("FullYear",2,0,!0),y:En("FullYear",1),MMMM:Sn("Month"),MMM:Sn("Month",!0),MM:En("Month",2,1),M:En("Month",1,1),dd:En("Date",2),d:En("Date",1),HH:En("Hours",2),H:En("Hours",1),hh:En("Hours",2,-12),h:En("Hours",1,-12),mm:En("Minutes",2),m:En("Minutes",1),ss:En("Seconds",2),s:En("Seconds",1),sss:En("Milliseconds",3),EEEE:Sn("Day"),EEE:Sn("Day",!0),a:Pn,Z:An},jr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Ur=/^\d+$/;Mn.$inject=["$locale"];var Fr=v(Bn),Nr=v(zn);On.$inject=["$parse"];var Ir=v({restrict:"E",compile:function(e,n){return 8>=Xn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.bind("click",function(e){t.attr("href")||e.preventDefault()})}}}),Hr={};o(vr,function(e,t){var n=_t("ng-"+t);Hr[n]=function(){return{priority:100,compile:function(){return function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),o(["src","href"],function(e){var t=_t("ng-"+e);Hr[t]=function(){return{priority:99,link:function(n,r,i){i.$observe(t,function(t){t&&(i.$set(e,t),Xn&&r.prop(e,i[e]))})}}}});var Vr={$addControl:d,$removeControl:d,$setValidity:d,$setDirty:d,$setPristine:d};Rn.$inject=["$element","$attrs","$scope"];var Lr=function(e){return["$timeout",function(t){var r={name:"form",restrict:"E",controller:Rn,compile:function(){return{pre:function(e,r,i,o){if(!i.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};lr(r[0],"submit",a),r.bind("$destroy",function(){t(function(){pr(r[0],"submit",a)},0,!1)})}var c=r.parent().controller("form"),s=i.name||i.ngForm;s&&(e[s]=o),c&&r.bind("$destroy",function(){c.$removeControl(o),s&&(e[s]=n),l(o,Vr)})}}}};return e?l(O(r),{restrict:"EAC"}):r}]},Br=Lr(),zr=Lr(!0),Wr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Gr=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,Zr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Jr={text:Un,number:Fn,url:Nn,email:In,radio:Hn,checkbox:Vn,hidden:d,button:d,submit:d,reset:d},Yr=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,o){o&&(Jr[Bn(i.type)]||Jr.text)(n,r,i,o,t,e)}}}],Kr="ng-valid",Xr="ng-invalid",Qr="ng-pristine",ei="ng-dirty",ti=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,r,i){function a(e,t){t=t?"-"+Y(t,"-"):"",r.removeClass((e?Xr:Kr)+t).addClass((e?Kr:Xr)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=i(n.ngModel),s=c.assign;if(!s)throw Error(Cr+n.ngModel+" ("+L(r)+")");this.$render=d;var u=r.inheritedData("$formController")||Vr,l=0,p=this.$error={};r.addClass(Qr),a(!0),this.$setValidity=function(e,t){p[e]!==!t&&(t?(p[e]&&l--,l||(a(!0),this.$valid=!0,this.$invalid=!1)):(a(!1),this.$invalid=!0,this.$valid=!1,l++),p[e]=!t,a(t,e),u.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,r.removeClass(ei).addClass(Qr)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,r.removeClass(Qr).addClass(ei),u.$setDirty()),o(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,s(e,n),o(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var f=this;e.$watch(function(){var t=c(e);if(f.$modelValue!==t){var n=f.$formatters,r=n.length;for(f.$modelValue=t;r--;)t=n[r](t);f.$viewValue!==t&&(f.$viewValue=t,f.$render())}})}],ni=function(){return{require:["ngModel","^?form"],controller:ti,link:function(e,t,n,r){var i=r[0],o=r[1]||Vr;o.$addControl(i),t.bind("$destroy",function(){o.$removeControl(i)})}}},ri=v({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ii=function(){return{require:"?ngModel",link:function(e,t,r,i){if(i){r.required=!0;var o=function(e){return r.required&&(jn(e)||e===!1)?(i.$setValidity("required",!1),n):(i.$setValidity("required",!0),e)};i.$formatters.push(o),i.$parsers.unshift(o),r.$observe("required",function(){o(i.$viewValue)})}}}},oi=function(){return{require:"ngModel",link:function(e,t,r,i){var a=/\/(.*)\//.exec(r.ngList),c=a&&RegExp(a[1])||r.ngList||",",s=function(e){var t=[];return e&&o(e.split(c),function(e){e&&t.push(S(e))}),t};i.$parsers.push(s),i.$formatters.push(function(e){return x(e)?e.join(", "):n})}}},ai=/^(true|false|\d+)$/,ci=function(){return{priority:100,compile:function(e,t){return ai.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e,!1)})}}}},si=qn(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}),ui=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],li=[function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe),e.$watch(n.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}],pi=Ln("",!0),fi=Ln("Odd",0),di=Ln("Even",1),hi=qn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),vi=[function(){return{scope:!0,controller:"@"}}],gi=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],mi={};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress".split(" "),function(e){var t=_t("ng-"+e);mi[t]=["$parse",function(n){return function(r,i,o){var a=n(o[t]);i.bind(Bn(e),function(e){r.$apply(function(){a(r,{$event:e})})})}}]});var $i=qn(function(e,t,n){t.bind("submit",function(){e.$apply(n.ngSubmit)})}),yi=["$http","$templateCache","$anchorScroll","$compile","$animator",function(e,t,n,r,i){return{restrict:"ECA",terminal:!0,compile:function(o,a){var c=a.ngInclude||a.src,s=a.onload||"",u=a.autoscroll;return function(o,a,l){var p,f=i(o,l),d=0,h=function(){p&&(p.$destroy(),p=null),f.leave(a.contents(),a)};o.$watch(c,function(i){var c=++d;i?e.get(i,{cache:t}).success(function(e){if(c===d){p&&p.$destroy(),p=o.$new(),f.leave(a.contents(),a);var t=Zn("<div/>").html(e).contents();f.enter(t,a),r(t)(p),!m(u)||u&&!o.$eval(u)||n(),p.$emit("$includeContentLoaded"),o.$eval(s)}}).error(function(){c===d&&h()}):h()})}}}}],wi=qn({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),bi=qn({terminal:!0,priority:1e3}),xi=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,a){var c=a.count,s=i.attr(a.$attr.when),u=a.offset||0,l=r.$eval(s),p={},f=t.startSymbol(),d=t.endSymbol();o(l,function(e,r){p[r]=t(e.replace(n,f+c+"-"+u+d))}),r.$watch(function(){var t=parseFloat(r.$eval(c));return isNaN(t)?"":(l[t]||(t=e.pluralCat(t-u)),p[t](r,i,!0))},function(e){i.text(e)})}}}],Ci=["$parse","$animator",function(e,t){var n="$$NG_REMOVED";return{transclude:"element",priority:1e3,terminal:!0,compile:function(r,i,a){return function(r,i,c){var s,u,l,p,f,d,h,v=t(r,c),g=c.ngRepeat,m=g.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),$={$id:wt};if(!m)throw Error("Expected ngRepeat in form of '_item_ in _collection_[ track by _id_]' but got '"+g+"'.");if(p=m[1],f=m[2],s=m[4],s?(u=e(s),l=function(e,t,n){return h&&($[h]=e),$[d]=t,$.$index=n,u(r,$)}):l=function(e,t){return wt(t)},m=p.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!m)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+p+"'.");d=m[3]||m[1],h=m[2];var y={};r.$watchCollection(f,function(e){var t,c,s,u,p,f,m,$,w,b,C=i,k={},T=[];if(x(e))w=e;else{w=[];for(f in e)e.hasOwnProperty(f)&&"$"!=f.charAt(0)&&w.push(f);w.sort()}for(u=w.length,c=T.length=w.length,t=0;c>t;t++)if(f=e===w?t:w[t],m=e[f],$=l(f,m,t),b=y[$])delete y[$],k[$]=b,T[t]=b;else{if(k.hasOwnProperty($))throw o(T,function(e){e&&e.element&&(y[e.id]=e)}),Error("Duplicates in a repeater are not allowed. Repeater: "+g);T[t]={id:$}}for(f in y)y.hasOwnProperty(f)&&(b=y[f],v.leave(b.element),b.element[0][n]=!0,b.scope.$destroy());for(t=0,c=w.length;c>t;t++){if(f=e===w?t:w[t],m=e[f],b=T[t],b.element){p=b.scope,s=C[0];do s=s.nextSibling;while(s&&s[n]);b.element[0]==s?C=b.element:(v.move(b.element,null,C),C=b.element)}else p=r.$new();p[d]=m,h&&(p[h]=f),p.$index=t,p.$first=0===t,p.$last=t===u-1,p.$middle=!(p.$first||p.$last),b.element||a(p,function(e){v.enter(e,null,C),C=e,b.scope=p,b.element=e,k[b.id]=b})}y=k})}}}}],ki=["$animator",function(e){return function(t,n,r){var i=e(t,r);t.$watch(r.ngShow,function(e){i[V(e)?"show":"hide"](n)})}}],Ti=["$animator",function(e){return function(t,n,r){var i=e(t,r);t.$watch(r.ngHide,function(e){i[V(e)?"hide":"show"](n)})}}],Ei=qn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Si=["$animator",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var a,c,s=e(t,r),u=r.ngSwitch||r.on,l=[];t.$watch(u,function(e){for(var n=0,u=l.length;u>n;n++)l[n].$destroy(),s.leave(c[n]);c=[],l=[],(a=i.cases["!"+e]||i.cases["?"])&&(t.$eval(r.change),o(a,function(e){var n=t.$new();l.push(n),e.transclude(n,function(t){var n=e.element;c.push(t),s.enter(t,n.parent(),n)})}))})}}}],Ai=qn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,r,i,o){o.cases["!"+t.ngSwitchWhen]=o.cases["!"+t.ngSwitchWhen]||[],o.cases["!"+t.ngSwitchWhen].push({transclude:n,element:r})}}}),Pi=qn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,t,r,i){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:n,element:t})}}}),Mi=qn({controller:["$transclude","$element",function(e,t){e(function(e){t.append(e)})}]}),_i=["$http","$templateCache","$route","$anchorScroll","$compile","$controller","$animator",function(e,t,n,r,i,o,a){return{restrict:"ECA",terminal:!0,link:function(e,t,c){function s(){p&&(p.$destroy(),p=null)}function u(){d.leave(t.contents(),t),s()}function l(){var a=n.current&&n.current.locals,c=a&&a.$template;if(c){u(),d.enter(Zn("<div></div>").html(c).contents(),t);var s,l=i(t.contents()),h=n.current;p=h.scope=e.$new(),h.controller&&(a.$scope=p,s=o(h.controller,a),t.children().data("$ngControllerController",s)),l(p),p.$emit("$viewContentLoaded"),p.$eval(f),r()}else u()}var p,f=c.onload||"",d=a(e,c);e.$on("$routeChangeSuccess",l),l()}}}],Di=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Oi=v({terminal:!0}),qi=["$compile","$parse",function(e,r){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,c={$setViewValue:d};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i,o=this,a={},s=c;o.databound=n.ngModel,o.init=function(e,t,n){s=e,r=t,i=n},o.addOption=function(t){a[t]=!0,s.$viewValue==t&&(e.val(t),i.parent()&&i.remove())},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],s.$viewValue==e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+wt(t)+" ?";i.val(n),e.prepend(i),e.val(n),i.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=d})}],link:function(c,s,u,l){function p(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(k.parent()&&k.remove(),t.val(e),""===e&&h.prop("selected",!0)):g(e)&&h?t.val(""):r.renderUnknownOption(e)},t.bind("change",function(){e.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(t.val())})})}function f(e,t,n){var r;n.$render=function(){var e=new bt(n.$viewValue);o(t.find("option"),function(t){t.selected=m(e.get(t.value))})},e.$watch(function(){R(r,n.$viewValue)||(r=O(n.$viewValue),n.$render())}),t.bind("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function d(t,o,c){function s(){var e,r,i,s,u,m,$,w,k,T,E,S,A,P,M={"":[]},_=[""],D=c.$modelValue,O=v(t)||[],q=f?a(O):O,R={},j=!1;for(y?j=new bt(D):(null===D||b)&&(M[""].push({selected:null===D,id:"",label:""}),j=!0),T=0;w=q.length,w>T;T++)R[p]=O[f?R[f]=q[T]:T],e=d(t,R)||"",(r=M[e])||(r=M[e]=[],_.push(e)),y?E=j.remove(h(t,R))!=n:(E=D===h(t,R),j=j||E),P=l(t,R),P=P===n?"":P,r.push({id:f?q[T]:T,label:P,selected:E});for(y||j||M[""].unshift({id:"?",label:"",selected:!0}),k=0,$=_.length;$>k;k++){for(e=_[k],r=M[e],k>=g.length?(s={element:C.clone().attr("label",e),label:r.label},u=[s],g.push(u),o.append(s.element)):(u=g[k],s=u[0],s.label!=e&&s.element.attr("label",s.label=e)),S=null,T=0,w=r.length;w>T;T++)i=r[T],(m=u[T+1])?(S=m.element,m.label!==i.label&&S.text(m.label=i.label),m.id!==i.id&&S.val(m.id=i.id),m.element.selected!==i.selected&&S.prop("selected",m.selected=i.selected)):(""===i.id&&b?A=b:(A=x.clone()).val(i.id).attr("selected",i.selected).text(i.label),u.push(m={element:A,label:i.label,id:i.id,selected:i.selected}),S?S.after(A):s.element.append(A),S=A);for(T++;u.length>T;)u.pop().element.remove()}for(;g.length>k;)g.pop()[0].element.remove()}var u;if(!(u=w.match(i)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+w+"'.");var l=r(u[2]||u[1]),p=u[4]||u[6],f=u[5],d=r(u[3]||""),h=r(u[2]?u[1]:p),v=r(u[7]),g=[[{element:o,label:""}]];b&&(e(b)(t),b.removeClass("ng-scope"),b.remove()),o.html(""),o.bind("change",function(){t.$apply(function(){var e,r,i,a,s,u,l,d,m=v(t)||[],$={};if(y)for(i=[],u=0,d=g.length;d>u;u++)for(e=g[u],s=1,l=e.length;l>s;s++)(a=e[s].element)[0].selected&&(r=a.val(),f&&($[f]=r),$[p]=m[r],i.push(h(t,$)));else r=o.val(),"?"==r?i=n:""==r?i=null:($[p]=m[r],f&&($[f]=r),i=h(t,$));c.$setViewValue(i)})}),c.$render=s,t.$watch(s)}if(l[1]){for(var h,v=l[0],$=l[1],y=u.multiple,w=u.ngOptions,b=!1,x=Zn(t.createElement("option")),C=Zn(t.createElement("optgroup")),k=x.clone(),T=0,E=s.children(),S=E.length;S>T;T++)if(""==E[T].value){h=b=E.eq(T);break}if(v.init($,b,k),y&&(u.required||u.ngRequired)){var A=function(e){return $.$setValidity("required",!u.required||e&&e.length),e};$.$parsers.push(A),$.$formatters.unshift(A),u.$observe("required",function(){A($.$viewValue)})}w?d(c,s,$):y?f(c,s,$):p(c,s,$,v)}}}}],Ri=["$interpolate",function(e){var t={addOption:d,removeOption:d};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var o="$selectController",a=n.parent(),c=a.data(o)||a.parent().data(o);c&&c.databound?n.prop("selected",!1):c=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&c.removeOption(t),c.addOption(e)}):c.addOption(r.value),n.bind("$destroy",function(){c.removeOption(r.value)})}}}}],ji=v({restrict:"E",terminal:!0});K(),tt(rr),Zn(t).ready(function(){Z(t,J)})})(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";t.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(e,r){function i(e){return o(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function o(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function a(e,t){this.template=e+="#",this.defaults=t||{},this.urlParams={}}function c(r,i,o){function v(e,t){var n={};return t=p({},i,t),l(t,function(t,r){d(t)&&(t=t()),n[r]=t.charAt&&"@"==t.charAt(0)?h(e,t.substr(1)):t}),n}function g(e){f(e||{},this)}var m=new a(r);return o=p({},s,o),l(o,function(r,i){r.method=t.uppercase(r.method);var o="POST"==r.method||"PUT"==r.method||"PATCH"==r.method;g[i]=function(t,n,i,a){function c(){b.$resolved=!0}var s,h,$={},y=u,w=null;switch(arguments.length){case 4:w=a,y=i;case 3:case 2:if(!d(n)){$=t,s=n,y=i;break}if(d(t)){y=t,w=n;break}y=n,w=i;case 1:d(t)?y=t:o?s=t:$=t;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var h,b=this instanceof g?this:r.isArray?[]:new g(s),x={};return l(r,function(e,t){"params"!=t&&"isArray"!=t&&(x[t]=f(e))}),x.data=s,m.setUrlParams(x,p({},v(s,r.params||{}),$),r.url),h=e(x),b.$resolved=!1,h.then(c,c),b.$then=h.then(function(e){var t=e.data,n=b.$then,i=b.$resolved;return t&&(r.isArray?(b.length=0,l(t,function(e){b.push(new g(e))})):(f(t,b),b.$then=n,b.$resolved=i)),(y||u)(b,e.headers),e.resource=b,e},w).then,b},g.prototype["$"+i]=function(e,t,r){var a,c=v(this),s=u;switch(arguments.length){case 3:c=e,s=t,a=r;break;case 2:case 1:d(e)?(s=e,a=t):(c=e,s=t||u);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var l=o?this:n;g[i].call(this,c,l,s,a)}}),g.bind=function(e){return c(r,p({},i,e),o)},g}var s={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},u=t.noop,l=t.forEach,p=t.extend,f=t.copy,d=t.isFunction,h=function(e,t){return r(t)(e)};return a.prototype={setUrlParams:function(e,n,r){var o,a,c=this,s=r||c.template,u=c.urlParams={};l(s.split(/\W/),function(e){e&&RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(s)&&(u[e]=!0)}),s=s.replace(/\\:/g,":"),n=n||{},l(c.urlParams,function(e,r){o=n.hasOwnProperty(r)?n[r]:c.defaults[r],t.isDefined(o)&&null!==o?(a=i(o),s=s.replace(RegExp(":"+r+"(\\W|$)","g"),a+"$1")):s=s.replace(RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),e.url=s.replace(/\/?#$/,"").replace(/\/*$/,""),l(n,function(t,n){c.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},c}])}(window,window.angular),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function i(){var e,i,o,s;for(e in c)l(a[e])&&r.cookies(e,n);for(e in a)i=a[e],t.isString(i)?i!==c[e]&&(r.cookies(e,i),s=!0):t.isDefined(c[e])?a[e]=c[e]:delete a[e];
if(s){s=!1,o=r.cookies();for(e in a)a[e]!==o[e]&&(l(o[e])?delete a[e]:a[e]=o[e],s=!0)}}var o,a={},c={},s=!1,u=t.copy,l=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();o!=t&&(o=t,u(t,c),u(t,a),s&&e.$apply())})(),s=!0,e.$watch(i),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){return t.fromJson(e[n])},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,a=r.push,c=r.slice,s=r.concat,u=i.toString,l=i.hasOwnProperty,p=r.forEach,f=r.map,d=r.reduce,h=r.reduceRight,v=r.filter,g=r.every,m=r.some,$=r.indexOf,y=r.lastIndexOf,w=Array.isArray,b=Object.keys,x=o.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.4.4";var k=C.each=C.forEach=function(e,t,r){if(null!=e)if(p&&e.forEach===p)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,o=e.length;o>i;i++)if(t.call(r,e[i],i,e)===n)return}else for(var a in e)if(C.has(e,a)&&t.call(r,e[a],a,e)===n)return};C.map=C.collect=function(e,t,n){var r=[];return null==e?r:f&&e.map===f?e.map(t,n):(k(e,function(e,i,o){r[r.length]=t.call(n,e,i,o)}),r)};var T="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(k(e,function(e,o,a){i?n=t.call(r,n,e,o,a):(n=e,i=!0)}),!i)throw new TypeError(T);return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return r&&(t=C.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=C.keys(e);o=a.length}if(k(e,function(c,s,u){s=a?a[--o]:--o,i?n=t.call(r,n,e[s],s,u):(n=e[s],i=!0)}),!i)throw new TypeError(T);return n},C.find=C.detect=function(e,t,n){var r;return E(e,function(e,i,o){return t.call(n,e,i,o)?(r=e,!0):void 0}),r},C.filter=C.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(k(e,function(e,i,o){t.call(n,e,i,o)&&(r[r.length]=e)}),r)},C.reject=function(e,t,n){return C.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},C.every=C.all=function(e,t,r){t||(t=C.identity);var i=!0;return null==e?i:g&&e.every===g?e.every(t,r):(k(e,function(e,o,a){return(i=i&&t.call(r,e,o,a))?void 0:n}),!!i)};var E=C.some=C.any=function(e,t,r){t||(t=C.identity);var i=!1;return null==e?i:m&&e.some===m?e.some(t,r):(k(e,function(e,o,a){return i||(i=t.call(r,e,o,a))?n:void 0}),!!i)};C.contains=C.include=function(e,t){return null==e?!1:$&&e.indexOf===$?-1!=e.indexOf(t):E(e,function(e){return e===t})},C.invoke=function(e,t){var n=c.call(arguments,2),r=C.isFunction(t);return C.map(e,function(e){return(r?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t,n){return C.isEmpty(t)?n?null:[]:C[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.findWhere=function(e,t){return C.where(e,t,!0)},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return k(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;a>=r.computed&&(r={value:e,computed:a})}),r.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return k(e,function(e,i,o){var a=t?t.call(n,e,i,o):e;r.computed>a&&(r={value:e,computed:a})}),r.value},C.shuffle=function(e){var t,n=0,r=[];return k(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r};var S=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var r=S(t);return C.pluck(C.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,r){var i={},o=S(t||C.identity);return k(e,function(t,a){var c=o.call(n,t,a,e);r(i,c,t)}),i};C.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return A(e,t,n,function(e,t){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,r){n=null==n?C.identity:S(n);for(var i=n.call(r,t),o=0,a=e.length;a>o;){var c=o+a>>>1;i>n.call(r,e[c])?o=c+1:a=c}return o},C.toArray=function(e){return e?C.isArray(e)?c.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:c.call(e,0,t)},C.initial=function(e,t,n){return c.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var P=function(e,t,n){return k(e,function(e){C.isArray(e)?t?a.apply(n,e):P(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return P(e,t,[])},C.without=function(e){return C.difference(e,c.call(arguments,1))},C.uniq=C.unique=function(e,t,n,r){C.isFunction(t)&&(r=n,n=t,t=!1);var i=n?C.map(e,n,r):e,o=[],a=[];return k(i,function(n,r){(t?r&&a[a.length-1]===n:C.contains(a,n))||(a.push(n),o.push(e[r]))}),o},C.union=function(){return C.uniq(s.apply(r,arguments))},C.intersection=function(e){var t=c.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=s.apply(r,c.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=c.call(arguments),t=C.max(C.pluck(e,"length")),n=Array(t),r=0;t>r;r++)n[r]=C.pluck(e,""+r);return n},C.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if($&&e.indexOf===$)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(y&&e.lastIndexOf===y)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},C.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,o=Array(r);r>i;)o[i++]=e,e+=n;return o},C.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,c.call(arguments,1));var n=c.call(arguments,2);return function(){return e.apply(t,n.concat(c.call(arguments)))}},C.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},C.bindAll=function(e){var t=c.call(arguments,1);return 0===t.length&&(t=C.functions(e)),k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(c.call(arguments,1)))},C.throttle=function(e,t){var n,r,i,o,a=0,c=function(){a=new Date,i=null,o=e.apply(n,r)};return function(){var s=new Date,u=t-(s-a);return n=this,r=arguments,0>=u?(clearTimeout(i),i=null,a=s,o=e.apply(n,r)):i||(i=setTimeout(c,u)),o}},C.debounce=function(e,t,n){var r,i;return function(){var o=this,a=arguments,c=function(){r=null,n||(i=e.apply(o,a))},s=n&&!r;return clearTimeout(r),r=setTimeout(c,t),s&&(i=e.apply(o,a)),i}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},C.keys=b||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return k(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=s.apply(r,c.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=s.apply(r,c.call(arguments,1));for(var i in e)C.contains(n,i)||(t[i]=e[i]);return t},C.defaults=function(e){return k(c.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=u.call(e);if(i!=u.call(t))return!1;switch(i){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return r[o]==t;n.push(e),r.push(t);var a=0,c=!0;if("[object Array]"==i){if(a=e.length,c=a==t.length)for(;a--&&(c=M(e[a],t[a],n,r)););}else{var s=e.constructor,l=t.constructor;if(s!==l&&!(C.isFunction(s)&&s instanceof s&&C.isFunction(l)&&l instanceof l))return!1;for(var p in e)if(C.has(e,p)&&(a++,!(c=C.has(t,p)&&M(e[p],t[p],n,r))))break;if(c){for(p in t)if(C.has(t,p)&&!a--)break;c=!a}}return n.pop(),r.pop(),c};C.isEqual=function(e,t){return M(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=w||function(e){return"[object Array]"==u.call(e)},C.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),C.isFunction=function(e){return"function"==typeof e},C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return l.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=C.invert(_.escape);var D={escape:RegExp("["+C.keys(_.escape).join("")+"]","g"),unescape:RegExp("("+C.keys(_.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),C.result=function(e,t){if(null==e)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){k(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),U.call(this,n.apply(C,e))}})};var O=0;C.uniqueId=function(e){var t=++O+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,R={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var r;n=C.defaults({},n,C.templateSettings);var i=RegExp([(n.escape||q).source,(n.interpolate||q).source,(n.evaluate||q).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,c){return a+=e.slice(o,c).replace(j,function(e){return"\\"+R[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=c+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=Function(n.variable||"obj","_",a)}catch(c){throw c.source=a,c}if(t)return r(t,C);var s=function(e){return r.call(this,e,C)};return s.source="function("+(n.variable||"obj")+"){\n"+a+"}",s},C.chain=function(e){return C(e).chain()};var U=function(e){return this._chain?C(e).chain():e};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],U.call(this,n)}}),k(["concat","join","slice"],function(e){var t=r[e];C.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.collapse","ui.bootstrap.dialog","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.popover","ui.bootstrap.tabs","ui.bootstrap.tooltip","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/dialog/message.html","template/pagination/pagination.html","template/popover/popover.html","template/tabs/pane.html","template/tabs/tabs.html","template/tooltip/tooltip-popup.html","template/typeahead/typeahead.html"]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==r&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(this.groups.indexOf(e),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(e){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(){this.setHeading=function(e){this.heading=e}}],link:function(t,n,r,i){var o,a;i.addGroup(t),t.isOpen=!1,r.isOpen&&(o=e(r.isOpen),a=o.assign,t.$watch(function(){return o(t.$parent)},function(e){t.isOpen=e}),t.isOpen=o?o(t.$parent):!1),t.$watch("isOpen",function(e){e&&i.closeOthers(t),a&&a(t.$parent,e)})}}}]).directive("accordionHeading",function(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(e,t,n){return function(e,t,r,i){i.setHeading(n(e,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,r){e.$watch(function(){return r[n.accordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,r,i,o){var a=e.$eval(i.btnRadio);e.$watch(function(){return o.$modelValue},function(e){angular.equals(e,a)?r.addClass(t):r.removeClass(t)}),r.bind(n,function(){r.hasClass(t)||e.$apply(function(){o.$setViewValue(a)})})}}}]).directive("btnCheckbox",["buttonConfig",function(e){var t=e.activeClass||"active",n=e.toggleEvent||"click";return{require:"ngModel",link:function(e,r,i,o){var a=e.$eval(i.btnCheckboxTrue),c=e.$eval(i.btnCheckboxFalse);a=angular.isDefined(a)?a:!0,c=angular.isDefined(c)?c:!1,e.$watch(function(){return o.$modelValue},function(e){angular.equals(e,a)?r.addClass(t):r.removeClass(t)}),r.bind(n,function(){e.$apply(function(){o.$setViewValue(r.hasClass(t)?c:a)})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(e,t,n){function r(){function n(){o?(e.next(),r()):e.pause()}i&&t.cancel(i);var a=+e.interval;!isNaN(a)&&a>=0&&(i=t(n,a))}var i,o,a=this,c=a.slides=[],s=-1;a.currentSlide=null,a.select=function(i,o){function u(){a.currentSlide&&angular.isString(o)&&!e.noTransition&&i.$element?(i.$element.addClass(o),i.$element[0].offsetWidth=i.$element[0].offsetWidth,angular.forEach(c,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(i,{direction:o,active:!0,entering:!0}),angular.extend(a.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=n(i.$element,{}),function(t,n){e.$currentTransition.then(function(){l(t,n)},function(){l(t,n)})}(i,a.currentSlide)):l(i,a.currentSlide),a.currentSlide=i,s=p,r()}function l(t,n){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var p=c.indexOf(i);void 0===o&&(o=p>s?"next":"prev"),i&&i!==a.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(u)):u())},a.indexOfSlide=function(e){return c.indexOf(e)},e.next=function(){var e=(s+1)%c.length;return a.select(c[e],"next")},e.prev=function(){var e=0>s-1?c.length-1:s-1;return a.select(c[e],"prev")},e.select=function(e){a.select(e)},e.isActive=function(e){return a.currentSlide===e},e.slides=function(){return c},e.$watch("interval",r),e.play=function(){o||(o=!0,r())},e.pause=function(){o=!1,i&&t.cancel(i)},a.addSlide=function(t,n){t.$element=n,c.push(t),1===c.length||t.active?(a.select(c[c.length-1]),1==c.length&&e.play()):t.active=!1},a.removeSlide=function(e){var t=c.indexOf(e);c.splice(t,1),c.length>0&&e.active&&(t>=c.length?a.select(c[t-1]):a.select(c[t]))}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"="}}}]).directive("slide",[function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"="},link:function(e,t,n,r){r.addSlide(e,t),e.$on("$destroy",function(){r.removeSlide(e)}),e.$watch("active",function(t){t&&r.select(e)})}}}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(e){var t=function(e,t,n){t.removeClass("collapse"),t.css({height:n}),t[0].offsetWidth,t.addClass("collapse")};return{link:function(n,r,i){var o,a=!0;n.$watch(function(){return r[0].scrollHeight},function(){0!==r[0].scrollHeight&&(o||(a?t(n,r,r[0].scrollHeight+"px"):t(n,r,"auto")))}),n.$watch(i.collapse,function(e){e?l():u()});var c,s=function(t){return c&&c.cancel(),c=e(r,t),c.then(function(){c=void 0},function(){c=void 0}),c},u=function(){a?(a=!1,o||t(n,r,"auto")):s({height:r[0].scrollHeight+"px"}).then(function(){o||t(n,r,"auto")}),o=!1},l=function(){o=!0,a?(a=!1,t(n,r,0)):(t(n,r,r[0].scrollHeight+"px"),s({height:"0"}))}}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider("$dialog",function(){var e={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},t={},n={value:0};this.options=function(e){t=e},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(r,i,o,a,c,s,u,l,p){function f(e){var t=angular.element("<div>");return t.addClass(e),t}function d(n){var r=this,i=this.options=angular.extend({},e,t,n);this.backdropEl=f(i.backdropClass),i.backdropFade&&(this.backdropEl.addClass(i.transitionClass),this.backdropEl.removeClass(i.triggerClass)),this.modalEl=f(i.dialogClass),i.dialogFade&&(this.modalEl.addClass(i.transitionClass),this.modalEl.removeClass(i.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(r.close(),e.preventDefault(),r.$scope.$apply())},this.handleBackDropClick=function(e){r.close(),e.preventDefault(),r.$scope.$apply()}}var h=i.find("body");return d.prototype.isOpen=function(){return this._open},d.prototype.open=function(e,t){var n=this,r=this.options;if(e&&(r.templateUrl=e),t&&(r.controller=t),!r.template&&!r.templateUrl)throw Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=n.$scope=e.$scope?e.$scope:a.$new();if(n.modalEl.html(e.$template),n.options.controller){var r=c(n.options.controller,e);n.modalEl.contents().data("ngControllerController",r)}o(n.modalEl)(t),n._addElementsToDom(),h.addClass(n.options.dialogOpenClass),setTimeout(function(){n.options.dialogFade&&n.modalEl.addClass(n.options.triggerClass),n.options.backdropFade&&n.backdropEl.addClass(n.options.triggerClass)}),n._bindEvents()}),this.deferred=u.defer(),this.deferred.promise},d.prototype.close=function(e){function t(e){e.removeClass(r.options.triggerClass)}function n(){r._open&&r._onCloseComplete(e)}var r=this,i=this._getFadingElements();if(h.removeClass(r.options.dialogOpenClass),i.length>0)for(var o=i.length-1;o>=0;o--)l(i[o],t).then(n);else this._onCloseComplete(e)},d.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},d.prototype._bindEvents=function(){this.options.keyboard&&h.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},d.prototype._unbindEvents=function(){this.options.keyboard&&h.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},d.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},d.prototype._addElementsToDom=function(){h.append(this.modalEl),this.options.backdrop&&(0===n.value&&h.append(this.backdropEl),n.value++),this._open=!0},d.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},d.prototype._loadResolves=function(){var e,t=[],n=[],i=this;return this.options.template?e=u.when(this.options.template):this.options.templateUrl&&(e=r.get(this.options.templateUrl,{cache:s}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,r){n.push(r),t.push(angular.isString(e)?p.get(e):p.invoke(e))}),n.push("$template"),t.push(e),u.all(t).then(function(e){var t={};return angular.forEach(e,function(e,r){t[n[r]]=e}),t.dialog=i,t})},{dialog:function(e){return new d(e)},messageBox:function(e,t,n){return new d({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location","$window",function(e,t){var n,r=null;return{restrict:"CA",link:function(i,o){i.$watch(function(){return t.path()},function(){n&&n()}),o.parent().bind("click",function(){n&&n()}),o.bind("click",function(t){t.preventDefault(),t.stopPropagation();var i=!1;r&&(i=r===o,n()),i||(o.parent().addClass("open"),r=o,n=function(t){t&&(t.preventDefault(),t.stopPropagation()),e.unbind("click",n),o.parent().removeClass("open"),n=null,r=null},e.bind("click",n))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function(e,t){return angular.element(document.getElementsByTagName("body")[0]),{restrict:"EA",terminal:!0,link:function(n,r,i){var o,a=angular.extend({},n.$eval(i.uiOptions||i.bsOptions||i.options)),c=i.modal||i.show;a=angular.extend(a,{template:r.html(),resolve:{$scope:function(){return n}}});var s=t.dialog(a);r.remove(),o=i.close?function(){e(i.close)(n)}:function(){angular.isFunction(e(c).assign)&&e(c).assign(n,!1)},n.$watch(c,function(e){e?s.open().then(function(){o()}):s.isOpen()&&s.close()})}}}]),angular.module("ui.bootstrap.pagination",[]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last"}).directive("pagination",["paginationConfig",function(e){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},templateUrl:"template/pagination/pagination.html",replace:!0,link:function(t,n,r){function i(e,t,n,r){return{number:e,text:t,active:n,disabled:r}}var o=angular.isDefined(r.boundaryLinks)?t.$eval(r.boundaryLinks):e.boundaryLinks,a=angular.isDefined(r.directionLinks)?t.$eval(r.directionLinks):e.directionLinks,c=angular.isDefined(r.firstText)?r.firstText:e.firstText,s=angular.isDefined(r.previousText)?r.previousText:e.previousText,u=angular.isDefined(r.nextText)?r.nextText:e.nextText,l=angular.isDefined(r.lastText)?r.lastText:e.lastText;t.$watch("numPages + currentPage + maxSize",function(){t.pages=[];var e=t.maxSize&&t.maxSize<t.numPages?t.maxSize:t.numPages,n=t.currentPage-Math.floor(e/2);1>n&&(n=1),n+e-1>t.numPages&&(n-=n+e-1-t.numPages);for(var r=n,p=n+e;p>r;r++){var f=i(r,r,t.isActive(r),!1);t.pages.push(f)}if(a){var d=i(t.currentPage-1,s,!1,t.noPrevious());t.pages.unshift(d);var h=i(t.currentPage+1,u,!1,t.noNext());t.pages.push(h)}if(o){var v=i(1,c,!1,t.noPrevious());t.pages.unshift(v);var g=i(t.numPages,l,!1,t.noNext());t.pages.push(g)}t.currentPage>t.numPages&&t.selectPage(t.numPages)}),t.noPrevious=function(){return 1===t.currentPage},t.noNext=function(){return t.currentPage===t.numPages},t.isActive=function(e){return t.currentPage===e},t.selectPage=function(e){!t.isActive(e)&&e>0&&t.numPages>=e&&(t.currentPage=e,t.onSelectPage({page:e}))}}}}]),angular.module("ui.bootstrap.popover",[]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{popoverTitle:"@",popoverContent:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window",function(e,t,n,r){var i='<popover-popup popover-title="{{tt_title}}" popover-content="{{tt_popover}}" placement="{{tt_placement}}" animation="tt_animation()" is-open="tt_isOpen"></popover-popup>';return{scope:!0,link:function(o,a,c){function s(){var e=a[0].getBoundingClientRect();return{width:a.prop("offsetWidth"),height:a.prop("offsetHeight"),top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}}function u(){var e,n,r,i;switch(p&&t.cancel(p),f.css({top:0,left:0,display:"block"}),a.after(f),e=s(),n=f.prop("offsetWidth"),r=f.prop("offsetHeight"),o.tt_placement){case"right":i={top:e.top+e.height/2-r/2+"px",left:e.left+e.width+"px"};break;case"bottom":i={top:e.top+e.height+"px",left:e.left+e.width/2-n/2+"px"};break;case"left":i={top:e.top+e.height/2-r/2+"px",left:e.left-n+"px"};break;default:i={top:e.top-r+"px",left:e.left+e.width/2-n/2+"px"}}f.css(i),o.tt_isOpen=!0}function l(){o.tt_isOpen=!1,angular.isDefined(o.tt_animation)&&o.tt_animation()?p=t(function(){f.remove()},500):f.remove()}var p,f=e(i)(o);c.$observe("popover",function(e){o.tt_popover=e}),c.$observe("popoverTitle",function(e){o.tt_title=e}),c.$observe("popoverPlacement",function(e){o.tt_placement=e||"top"}),c.$observe("popoverAnimation",function(e){o.tt_animation=n(e)}),o.tt_isOpen=!1,a.bind("click",function(){o.tt_isOpen?o.$apply(l):o.$apply(u)})}}}]),angular.module("ui.bootstrap.tabs",[]).controller("TabsController",["$scope","$element",function(e){var t=e.panes=[];this.select=e.select=function(e){angular.forEach(t,function(e){e.selected=!1}),e.selected=!0},this.addPane=function(n){t.length||e.select(n),t.push(n)},this.removePane=function(n){var r=t.indexOf(n);t.splice(r,1),n.selected&&t.length>0&&e.select(t[t.length>r?r:r-1])}}]).directive("tabs",function(){return{restrict:"EA",transclude:!0,scope:{},controller:"TabsController",templateUrl:"template/tabs/tabs.html",replace:!0}}).directive("pane",["$parse",function(e){return{require:"^tabs",restrict:"EA",transclude:!0,scope:{heading:"@"},link:function(t,n,r,i){var o,a;t.selected=!1,r.active&&(o=e(r.active),a=o.assign,t.$watch(function(){return o(t.$parent)},function(e){t.selected=e}),t.selected=o?o(t.$parent):!1),t.$watch("selected",function(e){e&&i.select(t),a&&a(t.$parent,e)}),i.addPane(t),t.$on("$destroy",function(){i.removePane(t)})},templateUrl:"template/tabs/pane.html",replace:!0}}]),angular.module("ui.bootstrap.tooltip",[]).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{tooltipTitle:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$compile","$timeout","$parse","$window",function(e,t,n,r){var i='<tooltip-popup tooltip-title="{{tt_tooltip}}" placement="{{tt_placement}}" animation="tt_animation()" is-open="tt_isOpen"></tooltip-popup>';return{scope:!0,link:function(o,a,c){function s(){var e=a[0].getBoundingClientRect();return{width:a.prop("offsetWidth"),height:a.prop("offsetHeight"),top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}}function u(){var e,n,r,i;if(o.tt_tooltip){switch(p&&t.cancel(p),f.css({top:0,left:0,display:"block"}),a.after(f),e=s(),n=f.prop("offsetWidth"),r=f.prop("offsetHeight"),o.tt_placement){case"right":i={top:e.top+e.height/2-r/2+"px",left:e.left+e.width+"px"};break;case"bottom":i={top:e.top+e.height+"px",left:e.left+e.width/2-n/2+"px"};break;case"left":i={top:e.top+e.height/2-r/2+"px",left:e.left-n+"px"};break;default:i={top:e.top-r+"px",left:e.left+e.width/2-n/2+"px"}}f.css(i),o.tt_isOpen=!0}}function l(){o.tt_isOpen=!1,angular.isDefined(o.tt_animation)&&o.tt_animation()?p=t(function(){f.remove()},500):f.remove()}var p,f=e(i)(o);c.$observe("tooltip",function(e){o.tt_tooltip=e}),c.$observe("tooltipPlacement",function(e){o.tt_placement=e||"top"}),c.$observe("tooltipAnimation",function(e){o.tt_animation=n(e)}),o.tt_isOpen=!1,a.bind("mouseenter",function(){o.$apply(u)}),a.bind("mouseleave",function(){o.$apply(l)})}}}]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,n){function r(e){for(var t in e)if(void 0!==o.style[t])return e[t]
}var i=function(r,o,a){a=a||{};var c=e.defer(),s=i[a.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){r.unbind(s,u),c.resolve(r)})};return s&&r.bind(s,u),t(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),s||c.resolve(r)}),c.promise.cancel=function(){s&&r.unbind(s,u),c.reject("Transition cancelled")},c.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",msTransition:"MSAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(c),i}]),angular.module("ui.bootstrap.typeahead",[]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(n){var r=n.match(t);if(!r)throw Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+n+"'.");return{itemName:r[3],source:e(r[4]),viewMapper:e(r[2]||r[1]),modelMapper:e(r[1])}}}}]).directive("typeahead",["$compile","$q","typeaheadParser",function(e,t,n){var r=[9,13,27,38,40];return{require:"ngModel",link:function(i,o,a,c){var s=c.$modelValue,u=i.$eval(a.typeaheadMinLength)||1,l=n.parse(a.typeahead),p=i.$new();i.$on("$destroy",function(){p.$destroy()});var f=function(){p.matches=[],p.activeIdx=-1},d=function(e){var n={$viewValue:e};t.when(l.source(p,n)).then(function(t){if(e===c.$viewValue)if(t.length>0){p.activeIdx=0,p.matches.length=0;for(var r=0;t.length>r;r++)n[l.itemName]=t[r],p.matches.push({label:l.viewMapper(p,n),model:t[r]});p.query=e}else f()},f)};f(),p.query=void 0,c.$parsers.push(function(e){return f(),s?e:(e&&e.length>=u&&d(e),void 0)}),c.$render=function(){var e={};e[l.itemName]=s,o.val(l.viewMapper(p,e)||c.$viewValue),s=void 0},p.select=function(e){var t={};t[l.itemName]=s=p.matches[e].model,c.$setViewValue(l.modelMapper(p,t)),c.$render()},o.bind("keydown",function(e){0!==p.matches.length&&-1!==r.indexOf(e.which)&&(e.preventDefault(),40===e.which?(p.activeIdx=(p.activeIdx+1)%p.matches.length,p.$digest()):38===e.which?(p.activeIdx=(p.activeIdx?p.activeIdx:p.matches.length)-1,p.$digest()):13===e.which||9===e.which?p.$apply(function(){p.select(p.activeIdx)}):27===e.which&&(p.matches=[],p.$digest()))});var h=e("<typeahead-popup matches='matches' active='activeIdx' select='select(activeIdx)' query='query'></typeahead-popup>")(p);o.after(h)}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",link:function(e){e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).filter("typeaheadHighlight",function(){return function(e,t){return t?e.replace(RegExp(t,"gi"),"<strong>$&</strong>"):t}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="accordion-group">  <div class="accordion-heading" ><a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a></div>  <div class="accordion-body" collapse="!isOpen">    <div class="accordion-inner" ng-transclude></div>  </div></div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="accordion" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html","<div class='alert' ng-class='type && \"alert-\" + type'>    <button type='button' class='close' ng-click='close()'>&times;</button>    <div ng-transclude></div></div>")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">    <ol class="carousel-indicators">        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>    </ol>    <div class="carousel-inner" ng-transclude></div>    <a ng-click="prev()" class="carousel-control left">&lsaquo;</a>    <a ng-click="next()" class="carousel-control right">&rsaquo;</a></div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{    'active': leaving || (active && !entering),    'prev': (next || active) && direction=='prev',    'next': (next || active) && direction=='next',    'right': direction=='prev',    'left': direction=='next'  }\" class=\"item\" ng-transclude></div>")}]),angular.module("template/dialog/message.html",[]).run(["$templateCache",function(e){e.put("template/dialog/message.html",'<div class="modal-header">	<h1>{{ title }}</h1></div><div class="modal-body">	<p>{{ message }}</p></div><div class="modal-footer">	<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class=btn ng-class="btn.cssClass">{{ btn.label }}</button></div>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<div class="pagination"><ul>  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>  </ul></div>')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">  <div class="arrow"></div>  <div class="popover-inner">      <h3 class="popover-title" ng-bind="popoverTitle" ng-show="popoverTitle"></h3>      <div class="popover-content" ng-bind="popoverContent"></div>  </div></div>')}]),angular.module("template/tabs/pane.html",[]).run(["$templateCache",function(e){e.put("template/tabs/pane.html",'<div class="tab-pane" ng-class="{active: selected}" ng-show="selected" ng-transclude></div>')}]),angular.module("template/tabs/tabs.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabs.html",'<div class="tabbable">  <ul class="nav nav-tabs">    <li ng-repeat="pane in panes" ng-class="{active:pane.selected}">      <a href="" ng-click="select(pane)">{{pane.heading}}</a>    </li>  </ul>  <div class="tab-content" ng-transclude></div></div>')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">  <div class="tooltip-arrow"></div>  <div class="tooltip-inner" ng-bind="tooltipTitle"></div></div>')}]),angular.module("template/typeahead/typeahead.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead.html",'<div class="dropdown clearfix" ng-class="{open: isOpen()}">    <ul class="typeahead dropdown-menu">        <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)">            <a tabindex="-1" ng-click="selectMatch($index)" ng-bind-html-unsafe="match.label | typeaheadHighlight:query"></a>        </li>    </ul></div>')}]),angular.module("lelylan",["lelylan.profile","lelylan.device","lelylan.history","lelylan.activation","lelylan.deactivation","lelylan.type","lelylan.property","lelylan.function","lelylan.status","lelylan.location","lelylan.subscription","lelylan.category","lelylan.loggedUser","lelylan.accessToken","lelylan.requestWrapper","lelylan.basicAuth","lelylan.basicRequestWrapper","lelylan.implicitFlow","lelylan.config","lelylan.requests","lelylan.errors","lelylan.login"]);var client=angular.module("lelylan.activation",["ngResource"]);client.factory("Activation",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/activations",{},{execute:{method:"POST"}});return e.wrap(r,["execute"])}]);var client=angular.module("lelylan.deactivation",["ngResource"]);client.factory("Deactivation",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/activations/:activationCode",{activationCode:"@activation_code"},{execute:{method:"DELETE"}});return e.wrap(r,["execute"])}]);var client=angular.module("lelylan.device",["ngResource"]);client.factory("Device",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/devices/:id/:action",{id:"@id"},{privates:{method:"GET",params:{action:"privates"}},update:{method:"PUT"},properties:{method:"PUT",params:{action:"properties"}},execute:{method:"PUT",params:{action:"functions"}}});return e.wrap(r,["get","privates","query","save","update","delete","properties","execute"])}]);var client=angular.module("lelylan.function",["ngResource"]);client.factory("Function",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/functions/:id",{id:"@id"},{update:{method:"PUT"},"public":{method:"GET",params:{id:"public"},isArray:!0}});return e.wrap(r,["get","query","save","update","delete"])}]);var client=angular.module("lelylan.history",["ngResource"]);client.factory("History",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/histories/:id",{id:"@id"});return e.wrap(r,["get","query"])}]);var client=angular.module("lelylan.location",["ngResource"]);client.factory("Location",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/locations/:id",{id:"@id"},{update:{method:"PUT"}});return e.wrap(r,["get","query","save","update","delete"])}]);var client=angular.module("lelylan.profile",["ngResource"]);client.factory("Profile",["RequestWrapper","$resource","lelylan.config","$timeout",function(e,t,n){var r=t(n.endpoint+"/me"),i=e.wrap(r,["get"]);return i}]);var client=angular.module("lelylan.property",["ngResource"]);client.factory("Property",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/properties/:id",{id:"@id"},{update:{method:"PUT"},"public":{method:"GET",params:{id:"public"},isArray:!0}});return e.wrap(r,["get","query","save","update","delete"])}]);var client=angular.module("lelylan.status",["ngResource"]);client.factory("Status",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/statuses/:id",{id:"@id"},{update:{method:"PUT"},"public":{method:"GET",params:{id:"public"},isArray:!0}});return e.wrap(r,["get","query","save","update","delete"])}]);var client=angular.module("lelylan.subscription",["ngResource"]);client.factory("Subscription",["BasicRequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/subscriptions/:id",{id:"@id"},{update:{method:"PUT"}});return e.wrap(r,["get","query","save","update","delete"])}]);var client=angular.module("lelylan.category",["ngResource"]);client.factory("Category",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/categories");return e.wrap(r,["query"])}]);var client=angular.module("lelylan.type",["ngResource"]);client.factory("Type",["RequestWrapper","$resource","lelylan.config",function(e,t,n){var r=t(n.endpoint+"/types/:id",{id:"@id"},{update:{method:"PUT"},"public":{method:"GET",params:{id:"public"},isArray:!0},popular:{method:"GET",params:{id:"popular"},isArray:!0}});return e.wrap(r,["get","query","save","update","delete"])}]);var client=angular.module("lelylan.loggedUser",[]);client.factory("LoggedUser",["$location","$http",function(){var e={},t={};return e.get=function(){return t},e.set=function(e){return t=e},e}]);var client=angular.module("lelylan.basicRequestWrapper",["ngResource"]);client.factory("BasicRequestWrapper",["BasicAuth","Base64","$http",function(e,t,n){var r={};r.wrap=function(e,t){for(var n=e,r=0;t.length>r;r++)i(n,t[r]);return n};var i=function(t,n){t["_"+n]=t[n],t[n]=function(r,i,c,s){return e.get().clientID&&e.get().clientSecret?o():a(),t["_"+n].call(this,r,i,c,s)}},o=function(){var r=e.get();n.defaults.headers.common.Authorization=t.encode(r.clientID+":"+r.clientSecret)},a=function(){delete n.defaults.headers.common.Authorization};return r}]);var client=angular.module("lelylan.basicAuth",["ngResource"]);client.factory("BasicAuth",[function(){var e={},t={};return e.get=function(){return t},e.set=function(e){angular.extend(t,e)},e}]),client.factory("Base64",[function(){var e={},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";e.encode=function(e){var t,r,e,i,o;for(r=e.length,i=0,o="";r>0;)r>2?(t=e.substr(i,3),o+=n(t,3)):(t=e.substr(i,r),o+=n(t,r)),r-=3,i+=3;return o};var n=function(e,n){var r,i,o,a,c=Array(4);return r=e.charCodeAt(0),c[0]=t.charAt(r>>2),2>n?(i=0,o=0,a=0):(i=e.charCodeAt(1),3>n?(o=0,a=0):(o=e.charCodeAt(2),a=e.charCodeAt(3))),c[1]=t.charAt((3&r)<<4|(240&i)>>4),c[2]=n>1?t.charAt((15&i)<<2|(192&o)>>6):"=",c[3]=n>2?t.charAt(63&o):"=",c[0]+c[1]+c[2]+c[3]};return e}]);var client=angular.module("lelylan.requestWrapper",["ngResource"]);client.factory("RequestWrapper",["AccessToken","ImplicitFlow","$http",function(e,t,n){var r,i={};i.wrap=function(t,n){r=e.initialize();for(var i=t,a=0;n.length>a;a++)o(i,n[a]);return i};var o=function(n,i){n["_"+i]=n[i],n[i]=function(o,s,u,l){return e.get().access_token?a():c(),r.expires_at&&r.expires_at<new Date&&window.location.replace(t.url()),n["_"+i].call(this,o,s,u,l)}},a=function(){n.defaults.headers.common.Authorization="Bearer "+r.access_token},c=function(){delete n.defaults.headers.common.Authorization};return i}]);var client=angular.module("lelylan.accessToken",["ngResource"]);client.factory("AccessToken",["$location","$http",function(e){var t={},n={};t.get=function(){return n},t.initialize=function(){var e=t.parseToken();return e.access_token&&t.set(e),e.error&&t.set(e),n},t.set=function(e){return angular.extend(n,e),r(),n},t.delete=function(){n={}},t.parseToken=function(){for(var t={},n=e.hash().split("&"),r=0;n.length>r;r++){var i=n[r].split("="),o=i[0],a=i[1];t[o]=a}return t};var r=function(){var e=new Date;e.setSeconds(e.getSeconds()+parseInt(n.expires_in)-60),n.expires_at=e};return t}]);var client=angular.module("lelylan.implicitFlow",["ngResource"]);client.factory("ImplicitFlow",["AccessToken","$location",function(e,t){var n,r={};r.url=function(e){return e&&(n=e),n.site+n.authorizePath+"?response_type=token&"+"client_id="+n.client+"&"+"redirect_uri="+n.redirect+"&"+"scope="+n.scope+"&"+"state="+n.state+i+s(t.url())},r.restoreURL=function(n){if(e.get().state){var o=e.get().state.split(i);o[0]&&e.set({state:o[0]}),o[1]&&t.url(u(o[1])),n.endpoint=r.url(n)}};var i="5c6007a2",o="e9e08740",a="008e974e",c="c1384ea1",s=function(e){return e.replace(/=/g,o).replace(/#/g,a).replace(/&/g,c)},u=function(e){return e.replace(/e9e08740/g,"=").replace(/008e974e/g,"#").replace(/c1384ea1/g,"&")};return r}]),angular.module("lelylan.errors",[]).config(["$httpProvider",function(e){var t={400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",420:"Enhance Your Calm",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"No Response",449:"Retry With",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},n=["$rootScope","$q",function(e,n){function r(e){return e}function i(r){if(r.status>=400){var i={status:r.status,message:t[r.status]};e.$broadcast("lelylan:error",i),e.$broadcast("lelylan:error:"+r.status,i);var o=n.defer();return o.promise}return n.reject(r)}return function(e){return e.then(r,i)}}];e.responseInterceptors.push(n)}]),angular.module("lelylan.requests",[]).config(["$httpProvider",function(e){var t,n=["$q","$injector",function(e,n){function r(e){return t=t||n.get("$http"),1>t.pendingRequests.length&&o("lelylan-request-loading","none"),e}var i,o=function(e,t){window.document.getElementById(e)&&(window.document.getElementById(e).style.display=t)};return function(e){return o("lelylan-request-loading","block"),e.then(r,i)}}];e.responseInterceptors.push(n)}]),angular.module("lelylan.config",[]).value("lelylan.config",{endpoint:"http://api.lelylan.com"});var directives=angular.module("lelylan.login",["ngCookies"]);directives.config(["$locationProvider",function(e){e.html5Mode(!0).hashPrefix("!")}]),directives.directive("login",["AccessToken","ImplicitFlow","Profile","LoggedUser","$location","$cookies","$rootScope",function(e,t,n,r,i,o,a){var c='<ul class="nav pull-right"><li ng-show="show==\'out\'" class="login"><a href=":javascript" ng-href="{{endpoint}}">{{value || \'Sign In\'}}</a></li><li ng-show="show==\'in\'" class="logout"><a href=":javascript" ng-click="logout()">Logout {{profile.email}}</a></li></ul>',s={restrict:"E",replace:!0,transclude:!0,template:c,scope:{site:"@",client:"@",redirect:"@",scope:"@",state:"@",flow:"@",value:"@"}};return s.link=function(i){i.$watch("client",function(){s();var t=e.initialize();return t.access_token?i.login():t.error?i.deny():p()||t.access_token||t.error?!p()||t.access_token||t.error?void 0:i.authorize():i.logout()}),i.login=function(){u(),t.restoreURL(i),i.profile=r.set(n.get()),f("logged-in"),h()},i.logout=function(){c(),g()},i.deny=function(){c(),v()},i.authorize=function(){window.location.replace(i.endpoint)};var c=function(){l(),d(),i.profile=r.set(null),e.delete()},s=function(){i.site=i.site||"http://people.lelylan.com",i.flow=i.flow||"implicit",i.authorizePath=i.authorizePath||"/oauth/authorize",i.tokenPath=i.tokenPath||"/oauth/token",i.scope=i.scope||"user",i.endpoint=t.url(i)},u=function(){i.show="in"},l=function(){i.show="out"},p=function(){return o[i.client]},f=function(e){o[i.client]=e},d=function(){delete o[i.client],delete o["#!"+i.client]},h=function(){a.$broadcast("lelylan:login",e.get())},v=function(){a.$broadcast("lelylan:login:denied")},g=function(){a.$broadcast("lelylan:logout")}},s}]),angular.module("lelylan.components.device",["lelylan","lelylan.components.device.directive"]),angular.module("lelylan.components.device.directive",[]),angular.module("lelylan.components.device.directive").directive("device",["Device","Type","LoggedUser","$rootScope","$timeout",function(e,t,n,r,i){var o='<div class="device-component device-{{device.id}} type-{{type.id}}"><div class="dc-main" ng-show="loaded"><div class="dc-header"><p class="dc-title lead" ng-show="!list">{{device.name}}</p><div class="dc-menu" ng-show="menu"><ul class="nav nav-pills"><li><a href="javascript:" class="action-refresh" ng-click="refresh()"><i class="icon-repeat"></i> Refresh</a></li><li><a href="javascript:" class="action-extend" ng-show="!extended" ng-click="extend()"><i class="icon-chevron-down"></i> Extended</a></li><li><a href="javascript:" class="action-compact" ng-show="extended" ng-click="compact()"><i class="icon-chevron-up"></i> Compact</a></li><li><a href="javascript:" class="action-main" ng-show="action.settings" ng-click="showMain()"><i class="icon-chevron-left"></i> Back</a></li><li><a href="javascript:" class="action-settings" ng-show="action.main" ng-click="showSettings()"><i class="icon-pencil"></i> Settings</a></li></ul></div><div class="dc-function function-{{status.function.id}} row-fluid"><div class="dc-action"><a href="javascript:" class="execute" title="{{status.function.name}}" ng-click="execute(status.function)"><span class="icon-lelylan-execute-big"></span></a><div ng-show="device.pending" id="pending-{{$id}}-{{device.id}}" class="pending"></div></div><div class="dc-description" ng-show="!list"><p class="status lead">{{status.name}}</p><small class="dc-updated-from muted">{{device.updated_at_relative}} from {{device.updated_from}}</small></div><div class="dc-list-description" ng-show="list" ng-click="fireOpen()" ng-mouseover="entry=true" ng-mouseleave="entry=false"><p class="lead color dc-name">{{device.name}}</p><p class="lead dc-status-name"><em>{{status.name}}</em></p><a ng-show="!entry" class="dc-open" href="javascript:"><span class="dc-details icon-lelylan-chevron"></span></a><a ng-show="entry" class="dc-open" href="javascript:"><span class="dc-details icon-lelylan-chevron-hover"></span></a></div></div></div><div class="dc-main" ng-show="action.main && extended"><div class="dc-functions"><hr/><div class="dc-function function-{{function.id}}" ng-repeat="function in functions"><div class="row-fluid"><div class="action"><a href="javascript:" class="execute" title="Execute {{function.name}}" ng-click="execute(function)"><span class="icon-lelylan-execute-small" ng-show="!function.hover"></span><span class="icon-lelylan-execute-small-hover" ng-show="function.hover"></span></a><div class="dc-description"><p class="name lead"><a href="javascript:" ng-click="execute(function)" ng-mouseover="function.hover=true" ng-mouseleave="function.hover=false">{{function.name}}</a></p></div></div></div></div></div><div class="dc-properties"><hr/><div class="dc-property property-{{property.id}}" ng-repeat="property in device.properties"><span class="name"><i class="icon-chevron-right"></i> {{property.name}}</span> <span class="expected color">{{property.accepted[property.expected] || property.expected}}</span></div></div></div><div class="dc-function-forms"><div class="dc-function-form function-form-{{function.id}}" ng-show="function.visible" ng-repeat="function in functions"><div class="row-fluid"><div><p class="title lead">{{function.name}}</p><small class="name muted">Fill the required params and execute your function</small><hr/><form><div ng-repeat="property in function.properties" ng-show="property.visible" class="property property-{{property.id}}"><div><small class="muted">Set {{property.name}} to {{property.expected}}</small><br/><input type="{{property.type}}" min="{{property.range.min}}" max="{{property.range.max}}" step="{{property.range.step}}" ng-model="property.expected"></input></div></div><div><button ng-click="updateProperties(function.properties)" class="update btn"><i class="icon-ok-sign"></i> Execute</button><button ng-click="function.visible=false" class="destroy btn"><i class="icon icon-remove"></i> Cancel</button></div></form></div></div></div></div><div class="dc-settings" ng-show="action.settings"><div class="dc-edit dc-form"><hr/><div><p class="lead">Edit Device</p><form name="editForm"><div class="control-group" ng-class="{error: editForm.name.$invalid}"><div class="input-prepend"><span class="add-on">Name</span><input type="text" name="name" ng-model="device.name" required><br/></div><small ng-show="editForm.name.$error.required" class="help-inline">Required</small></div><div class="control-group" ng-class="{error: editForm.physical.uri.$invalid}" ng-show="user.id == device.maker.id"><div class="input-prepend"><span class="add-on">Physical</span><input type="url" name="physical" ng-model="device.physical.uri"><br/></div><small ng-show="editForm.physical.$error.url" class="help-inline">Not a URL</small></div><div><button ng-click="update()" ng-disabled="editForm.$invalid || editForm.$pristine" class="update btn"><i class="icon-pencil"></i> Update</button><button ng-click="clear()" ng-disabled="editForm.$pristine" class="cancel btn"><i class="icon-refresh"></i> Reset</button></div></form></div></div><div class="dc-info dc-form" ng-show="user.id == device.maker.id"><hr/><div><p class="lead">Device Information</p><form><div class="control-group"><div class="input-prepend"><span class="add-on">Type</span><a ng-href="http://types.lelylan.com/types/{{type.id}}" target="blank"><input class="disabled clickable" name="physical" ng-model="device.name" disabled ></a><br/></div></div><div class="control-group"><div class="input-prepend"><span class="add-on">URI</span><input class="disabled" name="device-uri" ng-model="device.uri" disabled><br/></div></div><div class="control-group"><div class="input-prepend"><span class="add-on">Secret</span><input class="disabled" name="secret" ng-model="privates.secret" disabled><br/></div></div></form></div></div><div class="dc-destroy dc-form" ng-show="user.id == device.maker.id"><hr/><div><p class="lead">Delete Device</p><form name="destroyForm"><div class="control-group" ng-class="{error: confirm!=device.name}"><div class="input-prepend"><span class="add-on">Device name</span><input class="input-medium" type="text" name="name" ng-model="confirm"><br/></div><small class="help-inline">Deleting your device is irreversible. Enter your device name to confirm you want to permanently delete it.</small></div><div><button ng-click="destroy()" ng-disabled="confirm!=device.name" class="destroy btn btn-danger"><i class="icon-white icon-remove"></i> Delete Device</button></div></form></div></div></div></div></div>',a={restrict:"EA",replace:!0,template:o,scope:{deviceId:"=",deviceJson:"=",deviceType:"=",deviceView:"@",deviceMenu:"@"}};return a.link=function(o){o.action={main:!0},o.loaded=!1,o.user=n.get(),o.$watch("deviceId",function(){o.deviceId&&(o.device=e.get({id:o.deviceId},a))}),o.$watch("deviceJson",function(){o.deviceJson&&(o.type=null,o.device=o.deviceJson,a())}),o.$watch("deviceType",function(e,t){o.deviceType&&(o.type=o.deviceType),e!=t&&(d(),s())}),o.$watch("deviceView",function(){o.list="list"==o.deviceView,o.extended="compact"==o.deviceView?!1:!0,o.extended="list"==o.deviceView?!1:o.extended}),o.$watch("deviceMenu",function(){o.menu=o.deviceMenu?o.deviceMenu:!0,"list"!=o.deviceView||o.deviceMenu||(o.menu=!1)});var a=function(){o.deviceType&&(o.type=o.deviceType),o.type?c():o.type=t.get({id:o.device.type.id},c)},c=function(){u(),d(),s(),i(k,0),o.loaded=!0},s=function(e){o.loaded&&!e&&x(),l(),f(),g(),$()};o.showSettings=function(){o.action={settings:!0}},o.showMain=function(){o.action={main:!0}},o.compact=function(){o.extended=!1,o.action={main:!0}},o.extend=function(){o.extended=!0,o.action={main:!0}},o.execute=function(e){e.hasForm?e.visible=!e.visible:o.updateProperties(e.properties),$(e.id)},o.update=function(){o.device.$update(function(){s(),o.showMain(),o.editForm.$setPristine()})},o.updateProperties=function(t){t=y(t);var n=new e({id:o.device.id,properties:t});n.$properties({},function(){o.device=n,s()}),h(o.device.properties,t),o.device.pending=!0,b()},o.refresh=function(){o.device.pending=!0,b(),o.refreshing=e.get({id:o.device.id},function(){o.device=o.refreshing,s()})},o.destroy=function(){o.device.$delete(function(){w()})},o.clear=function(){o.device.name=o.original.name,o.device.physical=o.original.physical,o.editForm.$setPristine()};var u=function(){o.privates=e.privates({id:o.device.id})},l=function(){p(),h(o.device.properties,o.type.properties),o.original=angular.copy(o.device)},p=function(){return o.device.updated_at_relative=new Date(o.device.updated_at).toRelativeTime(6e4),o.relative?!1:(o.relative=!0,i(p,6e4),void 0)},f=function(){_.each(o.functions,function(e){h(e.properties,o.type.properties),_.each(e.properties,function(e){e.visible&&(e.expected=v(e.id,o.device.properties).expected)})})},d=function(){o.functions=angular.copy(o.type.functions),_.each(o.functions,function(e){_.each(e.properties,function(e){e.visible=null==e.expected}),e.hasForm=_.reduce(e.properties,function(e,t){return e||t.visible},!1)})},h=function(e,t){_.each(e,function(e){angular.extend(e,v(e.id,t))})},v=function(e,t){var n={id:"undefined",name:"Undefined"};return n=_.find(t,function(t){return t.id==e})},g=function(){o.status={name:"undefined"},_.each(o.type.statuses,function(e){_.each(e.properties,function(t){var n=t.values,r=v(t.id,o.device.properties).expected;_.contains(n,r)&&m(e)})})},m=function(e){o.status=e,o.status.function=v(o.status.function.id,o.functions)},$=function(e){_.each(o.functions,function(t){t.id!=e&&(t.visible=!1)})},y=function(e){return _.map(e,function(e){return{id:e.id,pending:e.pending,expected:e.expected}})};o.fireOpen=function(){r.$broadcast("lelylan:device:open",o.device)};var w=function(){r.$broadcast("lelylan:device:delete",o.device)},b=function(){r.$broadcast("lelylan:device:request:start",o.device)},x=function(){r.$broadcast("lelylan:device:request:end",o.device)};o.$on("lelylan:device:request:start",function(e,t){C(t)}),o.$on("lelylan:device:request:end",function(e,t){C(t)});var C=function(e){e.id==o.device.id&&(o.device=e,s(!0))},k=function(){if(o.preloader)return null;o.preloader=!0;var e=new CanvasLoader("pending-"+o.$id+"-"+o.device.id);e.setColor("#01cf9e"),e.setDiameter(20),e.setDensity(70),e.setRange(.7),e.setSpeed(2),e.setFPS(35),e.show()}},a}]),function(e){var t,n=function(e,t){void 0===t&&(t={}),this.init(e,t)},r=n.prototype,i=["canvas","vml"],o=["oval","spiral","square","rect","roundRect"],a=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,c=-1!==navigator.appVersion.indexOf("MSIE")&&8===parseFloat(navigator.appVersion.split("MSIE")[1])?!0:!1,s=!!document.createElement("canvas").getContext,u=!0,l=function(e,t,n){var r,e=document.createElement(e);for(r in n)e[r]=n[r];return void 0!==t&&t.appendChild(e),e},p=function(e,t){for(var n in t)e.style[n]=t[n];return e},f=function(e,t){for(var n in t)e.setAttribute(n,t[n]);return e},d=function(e,t,n,r){e.save(),e.translate(t,n),e.rotate(r),e.translate(-t,-n),e.beginPath()};r.init=function(e,r){"boolean"==typeof r.safeVML&&(u=r.safeVML);try{this.mum=void 0!==document.getElementById(e)?document.getElementById(e):document.body}catch(o){this.mum=document.body}if(r.id=void 0!==r.id?r.id:"canvasLoader",this.cont=l("div",this.mum,{id:r.id}),s)t=i[0],this.can=l("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=p(l("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{if(t=i[1],void 0===n.vmlSheet){document.getElementsByTagName("head")[0].appendChild(l("style")),n.vmlSheet=document.styleSheets[document.styleSheets.length-1];var a,c=["group","oval","roundrect","fill"];for(a in c)n.vmlSheet.addRule(c[a],"behavior:url(#default#VML); position:absolute;")}this.vml=l("group",this.cont)}this.setColor(this.color),this.draw(),p(this.cont,{display:"none"})},r.cont={},r.can={},r.con={},r.cCan={},r.cCon={},r.timer={},r.activeId=0,r.diameter=40,r.setDiameter=function(e){this.diameter=Math.round(Math.abs(e)),this.redraw()},r.getDiameter=function(){return this.diameter},r.cRGB={},r.color="#000000",r.setColor=function(e){this.color=a.test(e)?e:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},r.getColor=function(){return this.color},r.shape=o[0],r.setShape=function(e){for(var t in o)if(e===o[t]){this.shape=e,this.redraw();break}},r.getShape=function(){return this.shape},r.density=40,r.setDensity=function(e){this.density=u&&t===i[1]?40>=Math.round(Math.abs(e))?Math.round(Math.abs(e)):40:Math.round(Math.abs(e)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},r.getDensity=function(){return this.density},r.range=1.3,r.setRange=function(e){this.range=Math.abs(e),this.redraw()},r.getRange=function(){return this.range},r.speed=2,r.setSpeed=function(e){this.speed=Math.round(Math.abs(e))},r.getSpeed=function(){return this.speed},r.fps=24,r.setFPS=function(e){this.fps=Math.round(Math.abs(e)),this.reset()},r.getFPS=function(){return this.fps},r.getRGB=function(e){return e="#"===e.charAt(0)?e.substring(1,7):e,{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16)}
},r.draw=function(){var e,n,r,a,s,u,h,v,g,m=0,$=this.density,y=Math.round($*this.range),w=0;g=this.cCon;var b=this.diameter;if(t===i[0])for(g.clearRect(0,0,1e3,1e3),f(this.can,{width:b,height:b}),f(this.cCan,{width:b,height:b});$>m;){switch(v=y>=m?1-1/y*m:v=0,u=270-360/$*m,h=u/180*Math.PI,g.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+(""+v)+")",this.shape){case o[0]:case o[1]:e=.07*b,a=.47*b+Math.cos(h)*(.47*b-e)-.47*b,s=.47*b+Math.sin(h)*(.47*b-e)-.47*b,g.beginPath(),this.shape===o[1]?g.arc(.5*b+a,.5*b+s,e*v,0,2*Math.PI,!1):g.arc(.5*b+a,.5*b+s,e,0,2*Math.PI,!1);break;case o[2]:e=.12*b,a=Math.cos(h)*(.47*b-e)+.5*b,s=Math.sin(h)*(.47*b-e)+.5*b,d(g,a,s,h),g.fillRect(a,s-.5*e,e,e);break;case o[3]:case o[4]:n=.3*b,r=.27*n,a=Math.cos(h)*(r+.13*(b-r))+.5*b,s=Math.sin(h)*(r+.13*(b-r))+.5*b,d(g,a,s,h),this.shape===o[3]?g.fillRect(a,s-.5*r,n,r):(e=.55*r,g.moveTo(a+e,s-.5*r),g.lineTo(a+n-e,s-.5*r),g.quadraticCurveTo(a+n,s-.5*r,a+n,s-.5*r+e),g.lineTo(a+n,s-.5*r+r-e),g.quadraticCurveTo(a+n,s-.5*r+r,a+n-e,s-.5*r+r),g.lineTo(a+e,s-.5*r+r),g.quadraticCurveTo(a,s-.5*r+r,a,s-.5*r+r-e),g.lineTo(a,s-.5*r+e),g.quadraticCurveTo(a,s-.5*r,a+e,s-.5*r))}g.closePath(),g.fill(),g.restore(),++m}else{switch(p(this.cont,{width:b,height:b}),p(this.vml,{width:b,height:b}),this.shape){case o[0]:case o[1]:h="oval",e=140;break;case o[2]:h="roundrect",e=120;break;case o[3]:case o[4]:h="roundrect",e=300}for(n=r=e,a=500-r,s=.5*-r;$>m;){switch(v=y>=m?1-1/y*m:v=0,u=270-360/$*m,this.shape){case o[1]:n=r=e*v,a=500-.5*e-.5*e*v,s=.5*(e-e*v);break;case o[0]:case o[2]:c&&(s=0,this.shape===o[2]&&(a=500-.5*r));break;case o[3]:case o[4]:n=.95*e,r=.28*n,c?(a=0,s=500-.5*r):(a=500-n,s=.5*-r),w=this.shape===o[4]?.6:0}g=f(p(l("group",this.vml),{width:1e3,height:1e3,rotation:u}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),g=p(l(h,g,{stroked:!1,arcSize:w}),{width:n,height:r,top:s,left:a}),l("fill",g,{color:this.color,opacity:v}),++m}}this.tick(!0)},r.clean=function(){if(t===i[0])this.con.clearRect(0,0,1e3,1e3);else{var e=this.vml;if(e.hasChildNodes())for(;e.childNodes.length>=1;)e.removeChild(e.firstChild)}},r.redraw=function(){this.clean(),this.draw()},r.reset=function(){"number"==typeof this.timer&&(this.hide(),this.show())},r.tick=function(e){var n=this.con,r=this.diameter;e||(this.activeId+=360/this.density*this.speed),t===i[0]?(n.clearRect(0,0,r,r),d(n,.5*r,.5*r,this.activeId/180*Math.PI),n.drawImage(this.cCan,0,0,r,r),n.restore()):(this.activeId>=360&&(this.activeId-=360),p(this.vml,{rotation:this.activeId}))},r.show=function(){if("number"!=typeof this.timer){var e=this;this.timer=self.setInterval(function(){e.tick()},Math.round(1e3/this.fps)),p(this.cont,{display:"block"})}},r.hide=function(){"number"==typeof this.timer&&(clearInterval(this.timer),delete this.timer,p(this.cont,{display:"none"}))},r.kill=function(){var e=this.cont;"number"==typeof this.timer&&this.hide(),t===i[0]?(e.removeChild(this.can),e.removeChild(this.cCan)):e.removeChild(this.vml);for(var n in this)delete this[n]},e.CanvasLoader=n}(window),Date.prototype.toRelativeTime=function(){var e=function(e){var o=t(e),a=o.now||new Date,c=a-this,s=0>=c;if(c=Math.abs(c),o.nowThreshold>=c)return s?"Just now":"Just now";if(o.smartDays&&6*i>=c)return n(this,a);var u=null;for(var l in r){if(r[l]>c)break;u=l,c/=r[l]}c=Math.floor(c),1!==c&&(u+="s");var p=[c,u,s?"from now":"ago"].join(" ");return"1 minute from now"==p&&(p="Just now"),p},t=function(e){return e||(e=0),"string"==typeof e&&(e=parseInt(e,10)),"number"==typeof e?(isNaN(e)&&(e=0),{nowThreshold:e}):e},n=function(e,t){var n,r=e.getDay(),i=r-t.getDay();return n=0==i?"Today":-1==i?"Yesterday":1==i&&e>t?"Tomorrow":o[r],n+" at "+e.toLocaleTimeString()},r={millisecond:1,second:1e3,minute:60,hour:60,day:24,month:30,year:12},i=r.millisecond*r.second*r.minute*r.hour*r.day,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return e}(),Date.fromString=function(e){return new Date(Date.parse(e))};var app=angular.module("lelylan.components.type",["lelylan","ui.bootstrap","lelylan.components.device","lelylan.components.type.directive","lelylan.components.type.services.type","lelylan.components.type.services.property","lelylan.components.type.services.function","lelylan.components.type.services.status","lelylan.components.type.services.category","lelylan.components.type.services.simulation","lelylan.components.type.services.config","lelylan.components.type.services.helper","ngMockE2E"]),directives=angular.module("lelylan.components.type.directive",[]);directives.directive("lelylanType",["Type","Property","Function","Status","Simulation","LoggedUser","TCHelper","TCType","TCProperty","TCFunction","TCStatus","TCCategory","TCConfig","$rootScope","$compile","$templateCache","$timeout",function(e,t,n,r,i,o,a,c,s,u,l,p,f,d,h,v,g){var m={restrict:"EA",replace:!0,templateUrl:"/views/templates/type.html",scope:{typeId:"="}};return m.link=function(h){h.show={properties:!0},h.$watch("typeId",function(){h.typeId&&(h.type=e.get({id:h.typeId},v))}),h.init=function(){v()};var v=function(){h.original=angular.copy(h.type),h.user=o.get(),h.config=f,m(),h.loaded=!0},m=function(){c.initDescription(h.type),s.init(h.type),u.init(h.type),l.init(h.type),p.init(h.type)};h.initProperty=function(e){s.initProperty(e)},h.newProperty=function(){var e=angular.copy(f.base.property);h.type.properties.push(e),s.initProperty(e),h.open(e,"edit","Create")},h.updateProperty=function(e){""==e.acceptedString&&(e.acceptedString=null),e.accepted=angular.fromJson(e.acceptedString);var n=new t(e);n.$update(function(){h.close(e,"edit"),s.initProperty(e),v()})},h.createProperty=function(e){e.accepted=angular.fromJson(e.acceptedString),h.close(e,"edit"),delete e.temp;var n=new t(e);n.$save(function(){angular.extend(e,n),h.updateType(e,"properties")}),e.id=f.saving.message},h.deleteProperty=function(e){h.close(e,"delete");var n=new t(e);n.$delete(function(){b(e,"properties"),h.updateType(e,"properties")})},h.newFunction=function(){var e=angular.copy(f.base.function);h.type.functions.push(e),u.initFunction(e,h.type),h.open(e,"edit","Create")},h.updateFunction=function(e){var t=new n(e);t.$update(function(){h.close(e,"edit"),u.initFunction(e,h.type),v()})},h.createFunction=function(e){h.close(e,"edit"),delete e.temp;var t=new n(e);t.$save(function(){angular.extend(e,t),h.updateType(e,"functions")}),e.id=f.saving.message},h.deleteFunction=function(e){h.close(e,"delete");var t=new n(e);t.$delete(function(){b(e,"functions"),h.updateType(e,"functions")})},h.addFunctionProperty=function(e){e.properties.push({})},h.newStatus=function(){var e=angular.copy(f.base.status);h.type.statuses.push(e),l.initStatus(e,h.type),h.open(e,"edit","Create")},h.updateStatus=function(e){var t=new r(e);t.$update(function(){h.close(e,"edit"),l.initStatus(e,h.type),v()})},h.createStatus=function(e){h.close(e,"edit"),delete e.temp;var t=new r(e);g(function(){t.$save(function(){angular.extend(e,t),h.updateType(e,"statuses")})},1e3),e.id=f.saving.message},h.deleteStatus=function(e){h.close(e,"delete");var t=new r(e);t.$delete(function(){b(e,"statuses"),h.updateType(e,"statuses")})},h.addStatusProperty=function(e){e.properties.push({})},h.toggleCategory=function(t){var n=new e;n.id=h.type.id;var r=_.include(h.type.categories,t.name);r?h.type.categories=_.reject(h.type.categories,function(e){return e==t.name}):h.type.categories.push(t.name),n.categories=h.type.categories,n.$update(function(){h.type.categories=n.categories,v()})},h.updateType=function(t,n){var r=new e;r.id=h.type.id,r[n]=a.findIds(h.type[n]),r.$update(function(){h.type[n]=r[n],v()})},h.destroy=function(){h.type.$delete(function(){$(),h.destroyed=!0})},h.updateName=function(){var t=new e({id:h.type.id,name:h.type.name});t.$update(function(){h.type=t,v()}),h.config.inplace.name=!0,h.nameForm.$setPristine()},h.updateDescription=function(){var t=new e({id:h.type.id,description:h.type.description});t.$update(function(){h.type=t,v()}),h.config.inplace.description=!0,h.descriptionForm.$setPristine()},h.simulate=function(){h.simulatedDevice=i.set(h.type),h.simulatedType=new e(h.type)},h.showProperties=function(){h.show={properties:!0}},h.showFunctions=function(){h.show={functions:!0}},h.showStatuses=function(){h.show={statuses:!0}},h.showCategories=function(){h.show={categories:!0}},h.showSimulation=function(){h.show={simulation:!0},h.simulate()},h.showDelete=function(){h.show={"delete":!0}},h.close=function(e,t){e[t]=!1},h.open=function(e,t,n){h.modal={resource:e,visible:!0},e[t]=!0,e.label=n},h.reset=function(e,t,n){h.close(e,t,n),h.modal.visible&&(n&&n.$setPristine(),e.temp||y(e),e.temp&&w(e),h.modal.visible=!1)};var $=function(){d.$broadcast("lelylan:type:delete",h.type)},y=function(e){if("property"==h.modal.resource.isA&&angular.extend(e,a.findResource(e.id,h.original.properties)),"function"==h.modal.resource.isA&&e.id&&e.id!=f.saving.message){var t=a.findResource(e.id,h.original.functions);e.name=angular.copy(t.name),e.properties=angular.copy(t.properties)}if("status"==h.modal.resource.isA&&e.id&&e.id!=f.saving.message){var t=a.findResource(e.id,h.original.statuses);e.name=angular.copy(t.name),e.properties=angular.copy(t.properties),e.function=angular.copy(t.function)}m()},w=function(){g(function(){"property"==h.modal.resource.isA&&h.type.properties.pop(),"function"==h.modal.resource.isA&&h.type.functions.pop(),"status"==h.modal.resource.isA&&h.type.statuses.pop()},0)},b=function(e,t){h.type[t]=_.reject(h.type[t],function(t){return t.id==e.id})}},m}]);var service=angular.module("lelylan.components.type.services.type",[]);service.factory("TCType",[function(){var e={};return e.initDescription=function(e){var t=new Showdown.converter;e.shadowDescription=t.makeHtml(e.description)},e}]);var service=angular.module("lelylan.components.type.services.property",[]);service.factory("TCProperty",["TCConfig",function(e){var t={};return t.init=function(e){_.each(e.properties,function(e){e.isA="property",t.initProperty(e)})},t.initProperty=function(e){t.setPlaceholder(e),t.normalizeProperty(e)},t.setPlaceholder=function(t){t.placeholders=e.property.placeholders[t.type]},t.normalizeProperty=function(e){e.acceptedString=null,e.accepted&&angular.isObject(e.accepted)&&(e.acceptedList=JSON.stringify(e.accepted),e.acceptedList=_.map(e.accepted,function(e,t){return{key:t,value:e}}),e.acceptedString=JSON.stringify(e.accepted))},t}]);var service=angular.module("lelylan.components.type.services.function",[]);service.factory("TCFunction",["TCHelper",function(e){var t={};return t.init=function(e){_.each(e.functions,function(n){n.isA="function",t.initFunction(n,e)})},t.initFunction=function(t,n){e.extendResources(t.properties,n.properties)},t}]);var service=angular.module("lelylan.components.type.services.status",[]);service.factory("TCStatus",["TCHelper",function(e){var t={};return t.init=function(e){_.each(e.statuses,function(n){n.isA="status",t.initStatus(n,e)})},t.initStatus=function(t,n){t.function&&e.extendResources([t.function],n.functions),e.extendResources(t.properties,n.properties)},t}]);var service=angular.module("lelylan.components.type.services.category",[]);service.factory("TCCategory",["TCConfig",function(e){var t={};return t.init=function(t){_.each(e.categories,function(e){e.active=_.include(t.categories,e.name)})},t}]);var service=angular.module("lelylan.components.type.services.simulation",[]);service.factory("Simulation",["Device",function(e){var t,n={};return n.set=function(n){return t={uri:"http://api.lelylan.com/devices/1",id:"1",name:n.name,type:{uri:n.uri,id:n.id},physical:{uri:"http://arduino.house.com/1"},pending:!1,properties:[],created_at:new Date,updated_at:new Date,updated_from:"Lelylan"},_.each(n.properties,function(e){var n={uri:e.uri,id:e.id,value:e.default,expected:e.default,pending:!1,accepted:angular.fromJson(e.accepted)};t.properties.push(n)}),new e(t)},n.get=function(){return t},n.update=function(e){e=angular.fromJson(e);var t=n.get();return e.name&&(t.name=e.name),e.physical&&(t.physical=e.physical),_.each(e.properties,function(e){var n=_.find(t.properties,function(t){return t.id==e.id});n.expected=n.value=e.expected}),t.updated_at=new Date,t},n}]);var service=angular.module("lelylan.components.type.services.config",[]);service.factory("TCConfig",["Category",function(e){var t={show:{properties:!0},inplace:{name:!0,description:!0},saving:{message:"saving..."},property:{types:{text:"Text",range:"Range",number:"Number",color:"Color",password:"Password",date:"Date",time:"Time",datetime:"Date & Time",url:"URL"},placeholders:{text:{"default":"off",accepted:JSON.stringify({on:"On",off:"Off"})},number:{"default":"0",accepted:JSON.stringify({0:"Min",50:"Medium",100:"Max"})},range:{"default":"0",range:{min:0,max:100,step:.1}},color:{"default":"#FFF",accepted:JSON.stringify({"#FFF":"White","#000":"Black"})},password:{"default":"******",accepted:""},url:{"default":"http://example.com",accepted:""},time:{"default":"08:00",accepted:""},date:{"default":"1861-03-17",accepted:""},datetime:{"default":"1861-03-17 12:45:29Z",accepted:""}}},categories:e.query(),base:{property:{name:"",temp:!0,isA:"property",type:"text"},"function":{name:"",temp:!0,isA:"function",properties:[{}]},status:{name:"",temp:!0,isA:"status",properties:[{}],"function":{}}}};return t}]);var service=angular.module("lelylan.components.type.services.helper",[]);service.factory("TCHelper",[function(){var e={};return e.extendResources=function(t,n){_.each(t,function(t){angular.extend(t,e.findResource(t.id,n))})},e.findResource=function(e,t){return _.find(t,function(t){return t.id==e})},e.findIds=function(e){return _.reduce(e,function(e,t){return e.concat(t.id)},[])},e}]),angular.mock={},angular.mock.$BrowserProvider=function(){this.$get=function(){return new angular.mock.$Browser}},angular.mock.$Browser=function(){var e=this;this.isMock=!0,e.$$url="http://server/",e.$$lastUrl=e.$$url,e.pollFns=[],e.$$completeOutstandingRequest=angular.noop,e.$$incOutstandingRequestCount=angular.noop,e.onUrlChange=function(t){return e.pollFns.push(function(){e.$$lastUrl!=e.$$url&&(e.$$lastUrl=e.$$url,t(e.$$url))}),t},e.cookieHash={},e.lastCookieHash={},e.deferredFns=[],e.deferredNextId=0,e.defer=function(t,n){return n=n||0,e.deferredFns.push({time:e.defer.now+n,fn:t,id:e.deferredNextId}),e.deferredFns.sort(function(e,t){return e.time-t.time}),e.deferredNextId++},e.defer.now=0,e.defer.cancel=function(t){var n;return angular.forEach(e.deferredFns,function(e,r){e.id===t&&(n=r)}),void 0!==n?(e.deferredFns.splice(n,1),!0):!1},e.defer.flush=function(t){if(angular.isDefined(t))e.defer.now+=t;else{if(!e.deferredFns.length)throw Error("No deferred tasks to be flushed");e.defer.now=e.deferredFns[e.deferredFns.length-1].time}for(;e.deferredFns.length&&e.deferredFns[0].time<=e.defer.now;)e.deferredFns.shift().fn()},e.$$baseHref="",e.baseHref=function(){return this.$$baseHref}},angular.mock.$Browser.prototype={poll:function(){angular.forEach(this.pollFns,function(e){e()})},addPollFn:function(e){return this.pollFns.push(e),e},url:function(e){return e?(this.$$url=e,this):this.$$url},cookies:function(e,t){return e?(void 0==t?delete this.cookieHash[e]:angular.isString(t)&&4096>=t.length&&(this.cookieHash[e]=t),void 0):(angular.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=angular.copy(this.cookieHash),this.cookieHash=angular.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(e){e()}},angular.mock.$ExceptionHandlerProvider=function(){var e;this.mode=function(t){switch(t){case"rethrow":e=function(e){throw e};break;case"log":var n=[];e=function(e){1==arguments.length?n.push(e):n.push([].slice.call(arguments,0))},e.errors=n;break;default:throw Error("Unknown mode '"+t+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return e},this.mode("rethrow")},angular.mock.$LogProvider=function(){function e(e,t,n){return e.concat(Array.prototype.slice.call(t,n))}this.$get=function(){var t={log:function(){t.log.logs.push(e([],arguments,0))},warn:function(){t.warn.logs.push(e([],arguments,0))},info:function(){t.info.logs.push(e([],arguments,0))},error:function(){t.error.logs.push(e([],arguments,0))}};return t.reset=function(){t.log.logs=[],t.warn.logs=[],t.info.logs=[],t.error.logs=[]},t.assertEmpty=function(){var e=[];if(angular.forEach(["error","warn","info","log"],function(n){angular.forEach(t[n].logs,function(t){angular.forEach(t,function(t){e.push("MOCK $log ("+n+"): "+(t+"")+"\n"+(t.stack||""))})})}),e.length)throw e.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),e.push(""),Error(e.join("\n---------\n"))},t.reset(),t}},function(){function e(e){var n;if(n=e.match(r)){var i=new Date(0),o=0,a=0;return n[9]&&(o=t(n[9]+n[10]),a=t(n[9]+n[11])),i.setUTCFullYear(t(n[1]),t(n[2])-1,t(n[3])),i.setUTCHours(t(n[4]||0)-o,t(n[5]||0)-a,t(n[6]||0),t(n[7]||0)),i}return e}function t(e){return parseInt(e,10)}function n(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;t>e.length;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}var r=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;angular.mock.TzDate=function(t,r){var i=new Date(0);if(angular.isString(r)){var o=r;if(i.origDate=e(r),r=i.origDate.getTime(),isNaN(r))throw{name:"Illegal Argument",message:"Arg '"+o+"' passed into TzDate constructor is not a valid date string"}}else i.origDate=new Date(r);var a=new Date(r).getTimezoneOffset();i.offsetDiff=6e4*a-36e5*t,i.date=new Date(r+i.offsetDiff),i.getTime=function(){return i.date.getTime()-i.offsetDiff},i.toLocaleDateString=function(){return i.date.toLocaleDateString()},i.getFullYear=function(){return i.date.getFullYear()},i.getMonth=function(){return i.date.getMonth()},i.getDate=function(){return i.date.getDate()},i.getHours=function(){return i.date.getHours()},i.getMinutes=function(){return i.date.getMinutes()},i.getSeconds=function(){return i.date.getSeconds()},i.getMilliseconds=function(){return i.date.getMilliseconds()},i.getTimezoneOffset=function(){return 60*t},i.getUTCFullYear=function(){return i.origDate.getUTCFullYear()},i.getUTCMonth=function(){return i.origDate.getUTCMonth()},i.getUTCDate=function(){return i.origDate.getUTCDate()},i.getUTCHours=function(){return i.origDate.getUTCHours()},i.getUTCMinutes=function(){return i.origDate.getUTCMinutes()},i.getUTCSeconds=function(){return i.origDate.getUTCSeconds()},i.getUTCMilliseconds=function(){return i.origDate.getUTCMilliseconds()},i.getDay=function(){return i.date.getDay()},i.toISOString&&(i.toISOString=function(){return n(i.origDate.getUTCFullYear(),4)+"-"+n(i.origDate.getUTCMonth()+1,2)+"-"+n(i.origDate.getUTCDate(),2)+"T"+n(i.origDate.getUTCHours(),2)+":"+n(i.origDate.getUTCMinutes(),2)+":"+n(i.origDate.getUTCSeconds(),2)+"."+n(i.origDate.getUTCMilliseconds(),3)+"Z"});var c=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return angular.forEach(c,function(e){i[e]=function(){throw Error("Method '"+e+"' is not implemented in the TzDate mock")}}),i},angular.mock.TzDate.prototype=Date.prototype}(),angular.mock.createMockWindow=function(){var e={},t=[];return e.document=window.document,e.getComputedStyle=angular.bind(window,window.getComputedStyle),e.scrollTo=angular.bind(window,window.scrollTo),e.navigator=window.navigator,e.setTimeout=function(e,n){t.push({fn:e,delay:n})},e.setTimeout.queue=t,e.setTimeout.expect=function(e){return t.length>0?{process:function(){t.shift().fn()}}:(expect("SetTimoutQueue empty. Expecting delay of ").toEqual(e),void 0)},e},angular.mock.dump=function(e){function t(e){var r;return angular.isElement(e)?(e=angular.element(e),r=angular.element("<div></div>"),angular.forEach(e,function(e){r.append(angular.element(e).clone())}),r=r.html()):angular.isArray(e)?(r=[],angular.forEach(e,function(e){r.push(t(e))}),r="[ "+r.join(", ")+" ]"):r=angular.isObject(e)?angular.isFunction(e.$eval)&&angular.isFunction(e.$apply)?n(e):e instanceof Error?e.stack||""+e.name+": "+e.message:angular.toJson(e,!0):e+"",r}function n(e,t){t=t||"  ";var r=[t+"Scope("+e.$id+"): {"];for(var i in e)e.hasOwnProperty(i)&&!i.match(/^(\$|this)/)&&r.push("  "+i+": "+angular.toJson(e[i]));for(var o=e.$$childHead;o;)r.push(n(o,t+"  ")),o=o.$$nextSibling;return r.push("}"),r.join("\n"+t)}return t(e)},angular.mock.$HttpBackendProvider=function(){this.$get=["$rootScope",createHttpBackendMock]},angular.mock.$TimeoutDecorator=function(e,t){function n(e){var t=[];return angular.forEach(e,function(e){t.push("{id: "+e.id+", "+"time: "+e.time+"}")}),t.join(", ")}return e.flush=function(){t.defer.flush()},e.verifyNoPendingTasks=function(){if(t.deferredFns.length)throw Error("Deferred tasks to flush ("+t.deferredFns.length+"): "+n(t.deferredFns))},e},angular.mock.$RootElementProvider=function(){this.$get=function(){return angular.element("<div ng-app></div>")}},angular.module("ngMock",["ng"]).provider({$browser:angular.mock.$BrowserProvider,$exceptionHandler:angular.mock.$ExceptionHandlerProvider,$log:angular.mock.$LogProvider,$httpBackend:angular.mock.$HttpBackendProvider,$rootElement:angular.mock.$RootElementProvider}).config(function(e){e.decorator("$timeout",angular.mock.$TimeoutDecorator)}),angular.module("ngMockE2E",["ng"]).config(["$provide",function(e){e.decorator("$httpBackend",angular.mock.e2e.$httpBackendDecorator)}]),angular.mock.e2e={},angular.mock.e2e.$httpBackendDecorator=["$rootScope","$delegate","$browser",createHttpBackendMock],angular.mock.clearDataCache=function(){var e,t=angular.element.cache;for(e in t)if(t.hasOwnProperty(e)){var n=t[e].handle;n&&angular.element(n.elem).unbind(),delete t[e]}},window.jstestdriver&&function(e){e.dump=function(){var t=[];angular.forEach(arguments,function(e){t.push(angular.mock.dump(e))}),jstestdriver.console.log.apply(jstestdriver.console,t),e.console&&e.console.log.apply(e.console,t)}}(window),(window.jasmine||window.mocha)&&function(e){function t(){return n&&(e.mocha||n.queue.running)}var n=null;beforeEach(function(){n=this}),afterEach(function(){var e=n.$injector;n.$injector=null,n.$modules=null,n=null,e&&(e.get("$rootElement").unbind(),e.get("$browser").pollFns.length=0),angular.mock.clearDataCache(),angular.forEach(angular.element.fragments,function(e,t){delete angular.element.fragments[t]}),MockXhr.$$lastInstance=null,angular.forEach(angular.callbacks,function(e,t){delete angular.callbacks[t]}),angular.callbacks.counter=0}),e.module=angular.mock.module=function(){function e(){if(n.$injector)throw Error("Injector already created, can not register a module!");var e=n.$modules||(n.$modules=[]);angular.forEach(r,function(t){e.push(t)})}var r=Array.prototype.slice.call(arguments,0);return t()?e():e},e.inject=angular.mock.inject=function(){function e(){var e=n.$modules||[];e.unshift("ngMock"),e.unshift("ng");var t=n.$injector;t||(t=n.$injector=angular.injector(e));for(var o=0,a=r.length;a>o;o++)try{t.invoke(r[o]||angular.noop,this)}catch(c){throw c.stack&&i&&(c.stack+="\n"+i.stack),c}finally{i=null}}var r=Array.prototype.slice.call(arguments,0),i=Error("Declaration Location");return t()?e():e}}(window);var service=angular.module("lelylan.components.device.simulate",[]);service.run(["$httpBackend","Simulation","lelylan.config",function(e,t,n){var r=n.endpoint.replace("\\:",":").replace();e.whenGET(r+"/devices/1/privates").respond({secret:"1"}),e.whenPUT(r+"/devices/1/properties").respond(function(e,n,r){return[200,t.update(r),{}]}),e.whenGET(/.*/).passThrough(),e.whenPOST(/.*/).passThrough(),e.whenPUT(/.*/).passThrough(),e.whenDELETE(/.*/).passThrough()}]);var Showdown={extensions:{}},forEach=Showdown.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else{var n,r=e.length;for(n=0;r>n;n++)t(e[n],n,e)}},stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(e){var t,n,r,i=0,o=[],a=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var c=require("fs");if(c){var s=c.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});Showdown.forEach(s,function(e){var t=stdExtName(e);Showdown.extensions[t]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return t={},n={},r=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=F(e),e=e.replace(/^[ \t]+$/gm,""),Showdown.forEach(o,function(t){e=p(t,e)}),e=T(e),e=d(e),e=f(e),e=v(e),e=j(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),Showdown.forEach(a,function(t){e=p(t,e)}),e},e&&e.extensions){var u=this;Showdown.forEach(e.extensions,function(e){if("string"==typeof e&&(e=Showdown.extensions[stdExtName(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(e(u),function(e){e.type?"language"===e.type||"lang"===e.type?o.push(e):("output"===e.type||"html"===e.type)&&a.push(e):a.push(e)})})}var l,p=function(e,t){if(e.regex){var n=RegExp(e.regex,"g");return t.replace(n,e.replace)}return e.filter?e.filter(t):void 0},f=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,r,i,o,a){return r=r.toLowerCase(),t[r]=D(i),o?o+a:(a&&(n[r]=a.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},d=function(e){return e=e.replace(/\n/g,"\n\n"),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,h),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/\n\n/g,"\n")},h=function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(r.push(n)-1)+"K\n\n"},v=function(e){e=x(e);var t=E("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=C(e),e=k(e),e=M(e),e=d(e),e=_(e)},g=function(e){return e=S(e),e=m(e),e=O(e),e=w(e),e=$(e),e=q(e),e=D(e),e=P(e),e=e.replace(/  +\n/g," <br />\n")},m=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=N(t,"\\`*_")})},$=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,y),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,y),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,y)},y=function(e,r,i,o,a,c,s,u){void 0==u&&(u="");var l=r,p=i,f=o.toLowerCase(),d=a,h=u;if(""==d)if(""==f&&(f=p.toLowerCase().replace(/ ?\n/g," ")),d="#"+f,void 0!=t[f])d=t[f],void 0!=n[f]&&(h=n[f]);else{if(!(l.search(/\(\s*\)$/m)>-1))return l;d=""}d=N(d,"*_");var v='<a href="'+d+'"';return""!=h&&(h=h.replace(/"/g,"&quot;"),h=N(h,"*_"),v+=' title="'+h+'"'),v+=">"+p+"</a>"},w=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b)},b=function(e,r,i,o,a,c,s,u){var l=r,p=i,f=o.toLowerCase(),d=a,h=u;if(h||(h=""),""==d){if(""==f&&(f=p.toLowerCase().replace(/ ?\n/g," ")),d="#"+f,void 0==t[f])return l;d=t[f],void 0!=n[f]&&(h=n[f])}p=p.replace(/"/g,"&quot;"),d=N(d,"*_");var v='<img src="'+d+'" alt="'+p+'"';return h=h.replace(/"/g,"&quot;"),h=N(h,"*_"),v+=' title="'+h+'"',v+=" />"},x=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return E('<h1 id="'+t(n)+'">'+g(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return E('<h2 id="'+t(n)+'">'+g(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,r){var i=n.length;return E("<h"+i+' id="'+t(r)+'">'+g(r)+"</h"+i+">")})},C=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return i?e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol";r=r.replace(/\n{2,}/g,"\n\n\n");var o=l(r);return o=o.replace(/\s+$/,""),o="<"+i+">"+o+"</"+i+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,r){var i=t,o=n,a=r.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),c=l(o);return c=i+"<"+a+">\n"+c+"</"+a+">\n"})),e=e.replace(/~0/,"")};l=function(e){return i++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,r,i){var o=i,a=t;return a||o.search(/\n{2,}/)>-1?o=v(U(o)):(o=C(U(o)),o=o.replace(/\n$/,""),o=g(o)),"<li>"+o+"</li>\n"}),e=e.replace(/~0/g,""),i--,e};var k=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;return r=A(U(r)),r=F(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>",E(r)+i}),e=e.replace(/~0/,"")},T=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var r=t,i=n;return i=A(i),i=F(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code"+(r?' class="'+r+'"':"")+">"+i+"\n</code></pre>",E(i)}),e=e.replace(/~0/,"")},E=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(r.push(e)-1)+"K\n\n"},S=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){var i=r;return i=i.replace(/^([ \t]*)/g,""),i=i.replace(/[ \t]*$/g,""),i=A(i),t+"<code>"+i+"</code>"})},A=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=N(e,"*_{}[]\\",!1)},P=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},M=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=v(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),E("<blockquote>\n"+n+"\n</blockquote>")})},_=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var t=e.split(/\n{2,}/g),n=[],i=t.length,o=0;i>o;o++){var a=t[o];a.search(/~K(\d+)K/g)>=0?n.push(a):a.search(/\S/)>=0&&(a=g(a),a=a.replace(/^([ \t]*)/g,"<p>"),a+="</p>",n.push(a))}i=n.length;for(var o=0;i>o;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var c=r[RegExp.$1];c=c.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,c)}return n.join("\n\n")},D=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},O=function(e){return e=e.replace(/\\(\\)/g,I),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,I)},q=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return R(j(t))})},R=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);
else if(":"!=e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},j=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})},U=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},F=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,r=4-n.length%4,i=0;r>i;i++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},N=function(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=RegExp(r,"g");return e=e.replace(i,I)},I=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown});var app=angular.module("lelylan.dashboards.devices",["lelylan.components.type","lelylan.components.device"]);app.config(["$routeProvider",function(e){e.when("/home",{templateUrl:"views/home.html",controller:DashboardCtrl}).when("/new",{templateUrl:"views/new-device.html",controller:CreateCtrl}).when("/learn",{templateUrl:"views/learn.html",controller:DashboardCtrl}).when("/all",{templateUrl:"views/devices.html",controller:DevicesCtrl}).when("/categories/:category",{templateUrl:"views/devices.html",controller:CategoryCtrl}).when("/types/:typeId",{templateUrl:"views/type.html",controller:TypeCtrl}).when("/types",{templateUrl:"views/types.html",controller:TypesCtrl}).otherwise({redirectTo:"/all"})}]),app.service("NewDevice",["Device",function(e){var t;return{get:function(){return t||(t=new e),t},set:function(n){return t||(t=new e),angular.extend(t,n),t},reset:function(){return t=null}}}]);var popularTypes=[{id:"518be107ef539711af000001",uri:"http://api.lelylan.com/types/518be107ef539711af000001",name:"Basic Light",categories:["lights"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define the most basic light structure giving you **turn on** and **turn off**  functionalities. <br> \nUse it to experimeting the communication between Lelylan and the pysical world.",created_at:"2013-05-09T17:46:47Z",updated_at:"2013-05-10T07:13:55Z"},{id:"518be84900045e1521000007",uri:"http://api.lelylan.com/types/518be84900045e1521000007",name:"Light",categories:["lights"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete light structure.<br> It gives you **set intensity**, **set color** and **blinking** functionalities.",created_at:"2013-05-09T18:17:45Z",updated_at:"2013-05-10T07:16:16Z"},{id:"518c9c07a2c03f2389000001",uri:"http://api.lelylan.com/types/518c9c07a2c03f2389000001",name:"Lock",categories:["locks","windows"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete lock structure that can be used for your doors or windows.<br>\nIt gives you **open** and **close** functionalities.",created_at:"2013-05-10T07:04:39Z",updated_at:"2013-05-10T08:54:02Z"},{id:"518c9e90a2c03f2389000006",uri:"http://api.lelylan.com/types/518c9e90a2c03f2389000006",name:"Thermostat",categories:["thermostats"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete thermostat structure.<br> It gives you **warming/cooling**, **temperature** and **speed** functionalities.",created_at:"2013-05-10T07:15:28Z",updated_at:"2013-05-10T07:28:41Z"},{id:"518ca451a2c03fac5a000013",uri:"http://api.lelylan.com/types/518ca451a2c03fac5a000013",name:"IP Camera",categories:["cameras"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete IP Camera structure.<br> \nIt gives you **snapshot**, **rotation**,  **zoom** and **light** functionalities.",created_at:"2013-05-10T07:40:01Z",updated_at:"2013-05-10T07:50:11Z"},{id:"518ca765a2c03fac5a00001f",uri:"http://api.lelylan.com/types/518ca765a2c03fac5a00001f",name:"Alarm System",categories:["alarms"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete alarm system structure.<br> \nIt gives you **activation** and **deactivation** functionalities.",created_at:"2013-05-10T07:53:09Z",updated_at:"2013-05-10T07:57:30Z"},{id:"518cb15ea2c03f238900002d",uri:"http://api.lelylan.com/types/518cb15ea2c03f238900002d",name:"Meter",categories:["meters"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete meter structure.<br>\nIt gives you the ability to store **cumulative** and **instantaneous** energy consumptions.",created_at:"2013-05-10T08:35:42Z",updated_at:"2013-05-10T08:41:01Z"},{id:"518ca248a2c03fac5a00000b",uri:"http://api.lelylan.com/types/518ca248a2c03fac5a00000b",name:"Alarm Clock",categories:["alarms"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete alarm clock structure.<br>\nIt gives you **alarm**, **repetition** and **duration** functionalities.",created_at:"2013-05-10T07:31:20Z",updated_at:"2013-05-10T08:46:05Z"},{id:"518cb3c3a2c03f2389000033",uri:"http://api.lelylan.com/types/518cb3c3a2c03f2389000033",name:"Roller Shutter",categories:["windows"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete roller shutter structure.<br>\nIt gives you **open**, **close** and **stop** functionalities.",created_at:"2013-05-10T08:45:55Z",updated_at:"2013-05-10T08:53:51Z"},{id:"518cb788a2c03f238900003c",uri:"http://api.lelylan.com/types/518cb788a2c03f238900003c",name:"Kettle",categories:["appliances"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete kettle structure.<br>\nIt gives you **warm water** functionality.",created_at:"2013-05-10T09:02:00Z",updated_at:"2013-05-10T09:06:33Z"},{id:"518cb696a2c03fac5a00002e",uri:"http://api.lelylan.com/types/518cb696a2c03fac5a00002e",name:"Sprinkler System",categories:["gardenings"],owner:{id:"5036227a4f1b030200000001",uri:"http://api.lelylan.com/people/5036227a4f1b030200000001"},description:"Define a complete sprinkler system structure.<br>\nIt gives you **activate**, **deactivate** and **water aperture** functionalities.",created_at:"2013-05-10T08:57:58Z",updated_at:"2013-05-10T09:01:01Z"}];DashboardCtrl.$inject=["AccessToken","$scope","$rootScope","$http","$location","$timeout","lelylan.config"];var cl=new CanvasLoader("lelylan-request-loading");cl.setColor("#239cbb"),cl.setShape("spiral"),cl.setDiameter(20),cl.setDensity(70),cl.setRange(.7),cl.setSpeed(2),cl.setFPS(35),cl.show(),CreateCtrl.$inject=["NewDevice","Device","AccessToken","$scope","$rootScope","$location"],DevicesCtrl.$inject=["AccessToken","Device","$scope","$rootScope","$http","$location"],CategoryCtrl.$inject=["Device","AccessToken","$scope","$routeParams","$rootScope"],TypesCtrl.$inject=["NewDevice","AccessToken","Type","$scope","$rootScope","$http","$location"],TypeCtrl.$inject=["NewDevice","$scope","$routeParams","$location"];